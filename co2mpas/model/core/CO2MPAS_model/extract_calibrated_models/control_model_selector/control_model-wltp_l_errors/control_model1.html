<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">
        svg.on {
            border: 4px solid #008CFF;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child path:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child polygon:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        @keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        @-webkit-keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        .controls {
            background: #343a40;
            width: 100%;
        }

        .controls button {
            font-size: 18px;
            border: none;
            outline: none;
            background-color: transparent;
            color: #BBBBBB;
            cursor: pointer;
            border-radius: 0.25rem;
        }

        .controls button:hover {
            background-color: #555;
        }

        body {
            height: 100vh;
            width: 100vw;
            margin: 0;
        }

        #iframe {
            flex-grow: 1;
        }

        #index {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .sh-ico {
            display: inline-block;
            width: 18px;
            height: 18px;
            margin-left: 8px;
            padding-top: 3px;
            vertical-align: middle;
            content: "";
            background: no-repeat center center;
            background-size: 100% 100%;
        }

        .sh-ico-compress {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3'/%3E%3C/svg%3E");
        }

        .sh-ico-expand {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3'/%3E%3C/svg%3E");
        }
    </style>
    <!-- Required Javascript -->
    
    
</head>
<body onload="_onload()">
<div id="index" style="display: none; height: 100%">
    <div class="controls">
        <button id="btnFullScreen" class="sh-ico sh-ico-expand"
                style="display: none"
                onclick="FullScreen()"
                title="Enter/Exit Full Screen">
        </button>
        <button id="btnBack" onclick="onBack(event)" title="Go back">
            &lt;
        </button>
        <button id="btnForward" onclick="onForward(event)" title="Go forward">
            &gt;
        </button>
    </div>
    <iframe id="iframe" allowfullscreen frameborder="0"></iframe>
</div>
<div id="content" style="background: white; display: none"> <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 6.0.2 (0)
 -->
<!-- Title: dmap Pages: 1 -->
<svg width="1669pt" height="1267pt"
 viewBox="0.00 0.00 1668.50 1267.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1263)">
<title>dmap</title>
<text text-anchor="middle" x="830.25" y="-7.8" font-family="Times,serif" font-size="14.00">dmap</text>
<!-- 37013 -->
<g id="0" class="node">
<title>37013</title>
<g id="a_0"><a xlink:title="&quot;A dictionary that maps the dict keys ({old key: new key}.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M72,-1259C72,-1259 12,-1259 12,-1259 6,-1259 0,-1253 0,-1247 0,-1247 0,-1223 0,-1223 0,-1217 6,-1211 12,-1211 12,-1211 72,-1211 72,-1211 78,-1211 84,-1217 84,-1223 84,-1223 84,-1247 84,-1247 84,-1253 78,-1259 72,-1259"/>
<text text-anchor="start" x="10" y="-1241.8" font-family="Times,serif" font-size="14.00">inputs_map</text>
<polygon fill="none" stroke="black" points="8,-1215 8,-1236 54,-1236 54,-1215 8,-1215"/>
<text text-anchor="start" x="13" y="-1221.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="54,-1215 54,-1236 76,-1236 76,-1215 54,-1215"/>
<text text-anchor="start" x="57" y="-1221.8" font-family="Times,serif" font-size="14.00">{}</text>
</a>
</g>
</g>
<!-- 37014 -->
<g id="1" class="node">
<title>37014</title>
<g id="a_1"><a xlink:title="&quot;Returns a dict with new key values.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="94,-1175 2,-1175 2,-1139 94,-1139 94,-1175"/>
<g id="a_1_0"><a xlink:href="./control_model1/map_dict.html" xlink:title="&quot;Returns a dict with new key values.&quot;">
<text text-anchor="start" x="12.5" y="-1152.8" font-family="Times,serif" font-size="14.00">select_inputs</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37013&#45;&gt;37014 -->
<g id="edge1" class="edge">
<title>37013&#45;&gt;37014</title>
<path fill="none" stroke="black" d="M43,-1210.75C43,-1210.75 43,-1185.29 43,-1185.29"/>
<polygon fill="black" stroke="black" points="46.5,-1185.29 43,-1175.29 39.5,-1185.29 46.5,-1185.29"/>
</g>
<!-- 37016 -->
<g id="3" class="node">
<title>37016</title>
<g id="a_3"><a xlink:title="&quot;A dictionary.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M79,-1067C79,-1067 25,-1067 25,-1067 19,-1067 13,-1061 13,-1055 13,-1055 13,-1043 13,-1043 13,-1037 19,-1031 25,-1031 25,-1031 79,-1031 79,-1031 85,-1031 91,-1037 91,-1043 91,-1043 91,-1055 91,-1055 91,-1061 85,-1067 79,-1067"/>
<text text-anchor="start" x="23.5" y="-1044.8" font-family="Times,serif" font-size="14.00">inputs&lt;0&gt;</text>
</a>
</g>
</g>
<!-- 37014&#45;&gt;37016 -->
<g id="edge2" class="edge">
<title>37014&#45;&gt;37016</title>
<path fill="none" stroke="black" d="M52,-1138.68C52,-1138.68 52,-1077.05 52,-1077.05"/>
<polygon fill="black" stroke="black" points="55.5,-1077.05 52,-1067.05 48.5,-1077.05 55.5,-1077.05"/>
</g>
<!-- 37015 -->
<g id="2" class="node">
<title>37015</title>
<g id="a_2"><a xlink:title="&quot;A sequence of dicts.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M144,-1253C144,-1253 114,-1253 114,-1253 108,-1253 102,-1247 102,-1241 102,-1241 102,-1229 102,-1229 102,-1223 108,-1217 114,-1217 114,-1217 144,-1217 144,-1217 150,-1217 156,-1223 156,-1229 156,-1229 156,-1241 156,-1241 156,-1247 150,-1253 144,-1253"/>
<text text-anchor="start" x="117.5" y="-1230.8" font-family="Times,serif" font-size="14.00">data</text>
</a>
</g>
</g>
<!-- 37015&#45;&gt;37014 -->
<g id="edge3" class="edge">
<title>37015&#45;&gt;37014</title>
<path fill="none" stroke="black" d="M101.66,-1235C94.62,-1235 89,-1235 89,-1235 89,-1235 89,-1185.09 89,-1185.09"/>
<polygon fill="black" stroke="black" points="92.5,-1185.09 89,-1175.09 85.5,-1185.09 92.5,-1185.09"/>
</g>
<!-- 37024 -->
<g id="11" class="node">
<title>37024</title>
<g id="a_11"><a xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="502,-515 408,-515 408,-479 502,-479 502,-515"/>
<g id="a_11_1"><a xlink:href="./control_model1/selector-0.html" xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<text text-anchor="start" x="418" y="-492.8" font-family="Times,serif" font-size="14.00">select_targets</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37015&#45;&gt;37024 -->
<g id="edge4" class="edge">
<title>37015&#45;&gt;37024</title>
<path fill="none" stroke="black" d="M126.25,-1216.76C126.25,-1103.11 126.25,-497 126.25,-497 126.25,-497 397.9,-497 397.9,-497"/>
<polygon fill="black" stroke="black" points="397.9,-500.5 407.9,-497 397.9,-493.5 397.9,-500.5"/>
</g>
<!-- 37032 -->
<g id="19" class="node">
<title>37032</title>
<g id="a_19"><a xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="294,-1175 156,-1175 156,-1139 294,-1139 294,-1175"/>
<g id="a_19_2"><a xlink:href="./control_model1/selector-1.html" xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<text text-anchor="start" x="166" y="-1152.8" font-family="Times,serif" font-size="14.00">select_metrics_inputs</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37015&#45;&gt;37032 -->
<g id="edge5" class="edge">
<title>37015&#45;&gt;37032</title>
<path fill="none" stroke="black" d="M156.1,-1235C161.35,-1235 165.25,-1235 165.25,-1235 165.25,-1235 165.25,-1185.09 165.25,-1185.09"/>
<polygon fill="black" stroke="black" points="168.75,-1185.09 165.25,-1175.09 161.75,-1185.09 168.75,-1185.09"/>
</g>
<!-- 37018 -->
<g id="5" class="node">
<title>37018</title>
<g id="a_5"><a xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="594,-959 480,-959 480,-923 594,-923 594,-959"/>
<g id="a_5_3"><a xlink:href="./control_model1/selector.html" xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<text text-anchor="start" x="490" y="-936.8" font-family="Times,serif" font-size="14.00">select_inputs&lt;0&gt;</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37016&#45;&gt;37018 -->
<g id="edge6" class="edge">
<title>37016&#45;&gt;37018</title>
<path fill="none" stroke="black" d="M52,-1030.68C52,-999.87 52,-941 52,-941 52,-941 469.94,-941 469.94,-941"/>
<polygon fill="black" stroke="black" points="469.94,-944.5 479.94,-941 469.94,-937.5 469.94,-944.5"/>
</g>
<!-- 37017 -->
<g id="4" class="node">
<title>37017</title>
<g id="a_4"><a xlink:title="&quot;Keys to select.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1303.5,-1103C1303.5,-1103 162.5,-1103 162.5,-1103 156.5,-1103 150.5,-1097 150.5,-1091 150.5,-1091 150.5,-1007 150.5,-1007 150.5,-1001 156.5,-995 162.5,-995 162.5,-995 1303.5,-995 1303.5,-995 1309.5,-995 1315.5,-1001 1315.5,-1007 1315.5,-1007 1315.5,-1091 1315.5,-1091 1315.5,-1097 1309.5,-1103 1303.5,-1103"/>
<text text-anchor="start" x="716.5" y="-1085.8" font-family="Times,serif" font-size="14.00">inputs</text>
<polygon fill="none" stroke="black" points="159,-999 159,-1080 203,-1080 203,-999 159,-999"/>
<text text-anchor="start" x="162" y="-1035.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="203,-999 203,-1080 1308,-1080 1308,-999 203,-999"/>
<text text-anchor="start" x="206" y="-1065.8" font-family="Times,serif" font-size="14.00">[&#39;correct_start_stop_with_gears&#39;, &#39;motor_p0_maximum_power_function&#39;, &#39;gears&#39;, &#39;motor_p1_maximum_power_function&#39;, &#39;motor_p3_front_maximum_powers&#39;, &#39;times&#39;, &#39;min_time_engine_on_after_start&#39;,</text>
<text text-anchor="start" x="208.5" y="-1050.8" font-family="Times,serif" font-size="14.00"> &#39;start_stop_activation_time&#39;, &#39;is_hybrid&#39;, &#39;motor_p3_rear_maximum_powers&#39;, &#39;motor_p2_maximum_powers&#39;, &#39;has_start_stop&#39;, &#39;auxiliaries_torque_loss&#39;, &#39;auxiliaries_power_loss&#39;, &#39;motor_p1_speed_ratio&#39;,</text>
<text text-anchor="start" x="243.5" y="-1035.8" font-family="Times,serif" font-size="14.00"> &#39;engine_moment_inertia&#39;, &#39;drive_battery_model&#39;, &#39;accelerations&#39;, &#39;fuel_map&#39;, &#39;motor_p0_speed_ratio&#39;, &#39;gear_box_speeds_in&#39;, &#39;starter_model&#39;, &#39;velocities&#39;, &#39;motor_p4_rear_maximum_powers&#39;,</text>
<text text-anchor="start" x="236.5" y="-1020.8" font-family="Times,serif" font-size="14.00"> &#39;is_cycle_hot&#39;, &#39;dcdc_converter_efficiency&#39;, &#39;after_treatment_cooling_duration&#39;, &#39;idle_engine_speed&#39;, &#39;full_load_curve&#39;, &#39;after_treatment_warm_up_duration&#39;, &#39;motor_p2_planetary_speed_ratio&#39;,</text>
<text text-anchor="start" x="398" y="-1005.8" font-family="Times,serif" font-size="14.00"> &#39;motor_p2_planetary_maximum_power_function&#39;, &#39;final_drive_speeds_in&#39;, &#39;motor_p4_front_maximum_powers&#39;, &#39;motive_powers&#39;]</text>
</a>
</g>
</g>
<!-- 37017&#45;&gt;37018 -->
<g id="edge7" class="edge">
<title>37017&#45;&gt;37018</title>
<path fill="none" stroke="black" d="M537,-994.68C537,-994.68 537,-969.19 537,-969.19"/>
<polygon fill="black" stroke="black" points="540.5,-969.19 537,-959.19 533.5,-969.19 540.5,-969.19"/>
</g>
<!-- 37019 -->
<g id="6" class="node">
<title>37019</title>
<g id="a_6"><a xlink:title="&quot;A sequence of dicts.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M564,-887C564,-887 510,-887 510,-887 504,-887 498,-881 498,-875 498,-875 498,-863 498,-863 498,-857 504,-851 510,-851 510,-851 564,-851 564,-851 570,-851 576,-857 576,-863 576,-863 576,-875 576,-875 576,-881 570,-887 564,-887"/>
<text text-anchor="start" x="508.5" y="-864.8" font-family="Times,serif" font-size="14.00">inputs&lt;1&gt;</text>
</a>
</g>
</g>
<!-- 37018&#45;&gt;37019 -->
<g id="edge8" class="edge">
<title>37018&#45;&gt;37019</title>
<path fill="none" stroke="black" d="M537,-922.83C537,-922.83 537,-897.41 537,-897.41"/>
<polygon fill="black" stroke="black" points="540.5,-897.41 537,-887.41 533.5,-897.41 540.5,-897.41"/>
</g>
<!-- 37020 -->
<g id="7" class="node">
<title>37020</title>
<g id="a_7"><a xlink:title="&quot;Combines multiple dicts in one.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="618,-815 518,-815 518,-779 618,-779 618,-815"/>
<g id="a_7_4"><a xlink:href="./control_model1/combine_dicts.html" xlink:title="&quot;Combines multiple dicts in one.&quot;">
<text text-anchor="start" x="528" y="-792.8" font-family="Times,serif" font-size="14.00">combine_dicts</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37019&#45;&gt;37020 -->
<g id="edge9" class="edge">
<title>37019&#45;&gt;37020</title>
<path fill="none" stroke="black" d="M547,-850.83C547,-850.83 547,-825.41 547,-825.41"/>
<polygon fill="black" stroke="black" points="550.5,-825.41 547,-815.41 543.5,-825.41 550.5,-825.41"/>
</g>
<!-- 37022 -->
<g id="9" class="node">
<title>37022</title>
<g id="a_9"><a xlink:title="&quot;A unique dict.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M614,-743C614,-743 522,-743 522,-743 516,-743 510,-737 510,-731 510,-731 510,-719 510,-719 510,-713 516,-707 522,-707 522,-707 614,-707 614,-707 620,-707 626,-713 626,-719 626,-719 626,-731 626,-731 626,-737 620,-743 614,-743"/>
<text text-anchor="start" x="520.5" y="-720.8" font-family="Times,serif" font-size="14.00">prediction_inputs</text>
</a>
</g>
</g>
<!-- 37020&#45;&gt;37022 -->
<g id="edge10" class="edge">
<title>37020&#45;&gt;37022</title>
<path fill="none" stroke="black" d="M568,-778.83C568,-778.83 568,-753.41 568,-753.41"/>
<polygon fill="black" stroke="black" points="571.5,-753.41 568,-743.41 564.5,-753.41 571.5,-753.41"/>
</g>
<!-- 37021 -->
<g id="8" class="node">
<title>37021</title>
<g id="a_8"><a xlink:title="&quot;A sequence of dicts.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M702,-887C702,-887 606,-887 606,-887 600,-887 594,-881 594,-875 594,-875 594,-863 594,-863 594,-857 600,-851 606,-851 606,-851 702,-851 702,-851 708,-851 714,-857 714,-863 714,-863 714,-875 714,-875 714,-881 708,-887 702,-887"/>
<text text-anchor="start" x="604" y="-864.8" font-family="Times,serif" font-size="14.00">calibrated_models</text>
</a>
</g>
</g>
<!-- 37021&#45;&gt;37020 -->
<g id="edge11" class="edge">
<title>37021&#45;&gt;37020</title>
<path fill="none" stroke="black" d="M606,-850.83C606,-850.83 606,-825.41 606,-825.41"/>
<polygon fill="black" stroke="black" points="609.5,-825.41 606,-815.41 602.5,-825.41 609.5,-825.41"/>
</g>
<!-- 37026 -->
<g id="13" class="node">
<title>37026</title>
<g id="a_13"><a xlink:title="&quot;Wraps all functions needed to calibrate and predict light&#45;vehicles&#39; CO2 emissions.&quot;">
<polygon fill="#ffc490" stroke="#ffc490" points="691,-671 525,-671 525,-635 697,-635 697,-665 691,-671"/>
<polyline fill="none" stroke="#ffc490" points="691,-671 691,-665"/>
<polyline fill="none" stroke="#ffc490" points="697,-665 691,-665"/>
<g id="a_13_5"><a xlink:href="./control_model1/CO2MPAS_physical_model.html" xlink:title="&quot;Wraps all functions needed to calibrate and predict light&#45;vehicles&#39; CO2 emissions.&quot;">
<text text-anchor="start" x="535.5" y="-648.8" font-family="Times,serif" font-size="14.00">CO2MPAS physical model</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37021&#45;&gt;37026 -->
<g id="edge12" class="edge">
<title>37021&#45;&gt;37026</title>
<path fill="none" stroke="black" d="M661.5,-850.96C661.5,-850.96 661.5,-681.15 661.5,-681.15"/>
<polygon fill="black" stroke="black" points="665,-681.15 661.5,-671.15 658,-681.15 665,-681.15"/>
</g>
<!-- 37022&#45;&gt;37026 -->
<g id="edge13" class="edge">
<title>37022&#45;&gt;37026</title>
<path fill="none" stroke="black" d="M575.5,-706.83C575.5,-706.83 575.5,-681.41 575.5,-681.41"/>
<polygon fill="black" stroke="black" points="579,-681.41 575.5,-671.41 572,-681.41 579,-681.41"/>
</g>
<!-- 37023 -->
<g id="10" class="node">
<title>37023</title>
<g id="a_10"><a xlink:title="&quot;Targets keys.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M553,-599C553,-599 357,-599 357,-599 351,-599 345,-593 345,-587 345,-587 345,-563 345,-563 345,-557 351,-551 357,-551 357,-551 553,-551 553,-551 559,-551 565,-557 565,-563 565,-563 565,-587 565,-587 565,-593 559,-599 553,-599"/>
<text text-anchor="start" x="436.5" y="-581.8" font-family="Times,serif" font-size="14.00">targets</text>
<polygon fill="none" stroke="black" points="353,-555 353,-576 397,-576 397,-555 353,-555"/>
<text text-anchor="start" x="356" y="-561.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="397,-555 397,-576 557,-576 557,-555 397,-555"/>
<text text-anchor="start" x="400" y="-561.8" font-family="Times,serif" font-size="14.00">[&#39;on_engine&#39;, &#39;engine_starts&#39;]</text>
</a>
</g>
</g>
<!-- 37023&#45;&gt;37024 -->
<g id="edge14" class="edge">
<title>37023&#45;&gt;37024</title>
<path fill="none" stroke="black" d="M455,-550.75C455,-550.75 455,-525.29 455,-525.29"/>
<polygon fill="black" stroke="black" points="458.5,-525.29 455,-515.29 451.5,-525.29 458.5,-525.29"/>
</g>
<!-- 37029 -->
<g id="16" class="node">
<title>37029</title>
<g id="a_16"><a xlink:title="&quot;Select the prediction results.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="743,-515 625,-515 625,-479 743,-479 743,-515"/>
<g id="a_16_6"><a xlink:href="./control_model1/select_predictions.html" xlink:title="&quot;Select the prediction results.&quot;">
<text text-anchor="start" x="635" y="-492.8" font-family="Times,serif" font-size="14.00">select_predictions</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37023&#45;&gt;37029 -->
<g id="edge15" class="edge">
<title>37023&#45;&gt;37029</title>
<path fill="none" stroke="black" d="M562.33,-550.62C562.33,-529.74 562.33,-503 562.33,-503 562.33,-503 614.95,-503 614.95,-503"/>
<polygon fill="black" stroke="black" points="614.95,-506.5 624.95,-503 614.95,-499.5 614.95,-506.5"/>
</g>
<!-- 37025 -->
<g id="12" class="node">
<title>37025</title>
<g id="a_12"><a xlink:title="&quot;Reference results.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M621,-437C621,-437 569,-437 569,-437 563,-437 557,-431 557,-425 557,-425 557,-413 557,-413 557,-407 563,-401 569,-401 569,-401 621,-401 621,-401 627,-401 633,-407 633,-413 633,-413 633,-425 633,-425 633,-431 627,-437 621,-437"/>
<text text-anchor="start" x="567" y="-414.8" font-family="Times,serif" font-size="14.00">references</text>
</a>
</g>
</g>
<!-- 37024&#45;&gt;37025 -->
<g id="edge16" class="edge">
<title>37024&#45;&gt;37025</title>
<path fill="none" stroke="black" d="M502.13,-491C529.91,-491 559.67,-491 559.67,-491 559.67,-491 559.67,-447.17 559.67,-447.17"/>
<polygon fill="black" stroke="black" points="563.17,-447.17 559.67,-437.17 556.17,-447.17 563.17,-447.17"/>
</g>
<!-- 37035 -->
<g id="22" class="node">
<title>37035</title>
<g id="a_22"><a xlink:title="&quot;Calculate error coefficients.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="922,-359 814,-359 814,-323 922,-323 922,-359"/>
<g id="a_22_7"><a xlink:href="./control_model1/calculate_errors.html" xlink:title="&quot;Calculate error coefficients.&quot;">
<text text-anchor="start" x="824.5" y="-336.8" font-family="Times,serif" font-size="14.00">calculate_errors</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37025&#45;&gt;37035 -->
<g id="edge17" class="edge">
<title>37025&#45;&gt;37035</title>
<path fill="none" stroke="black" d="M595,-400.91C595,-377.87 595,-341 595,-341 595,-341 803.74,-341 803.74,-341"/>
<polygon fill="black" stroke="black" points="803.74,-344.5 813.74,-341 803.74,-337.5 803.74,-344.5"/>
</g>
<!-- 37027 -->
<g id="14" class="node">
<title>37027</title>
<g id="a_14"><a xlink:title="&quot;Calibration results.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M627,-593C627,-593 595,-593 595,-593 589,-593 583,-587 583,-581 583,-581 583,-569 583,-569 583,-563 589,-557 595,-557 595,-557 627,-557 627,-557 633,-557 639,-563 639,-569 639,-569 639,-581 639,-581 639,-587 633,-593 627,-593"/>
<text text-anchor="start" x="593" y="-570.8" font-family="Times,serif" font-size="14.00">results</text>
</a>
</g>
</g>
<!-- 37026&#45;&gt;37027 -->
<g id="edge18" class="edge">
<title>37026&#45;&gt;37027</title>
<path fill="none" stroke="black" d="M611,-634.91C611,-634.91 611,-603.26 611,-603.26"/>
<polygon fill="black" stroke="black" points="614.5,-603.26 611,-593.26 607.5,-603.26 614.5,-603.26"/>
</g>
<!-- 37027&#45;&gt;37029 -->
<g id="edge19" class="edge">
<title>37027&#45;&gt;37029</title>
<path fill="none" stroke="black" d="M632,-556.91C632,-556.91 632,-525.26 632,-525.26"/>
<polygon fill="black" stroke="black" points="635.5,-525.26 632,-515.26 628.5,-525.26 635.5,-525.26"/>
</g>
<!-- 37028 -->
<g id="15" class="node">
<title>37028</title>
<g id="a_15"><a xlink:title="&quot;Output keys.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M865,-599C865,-599 669,-599 669,-599 663,-599 657,-593 657,-587 657,-587 657,-563 657,-563 657,-557 663,-551 669,-551 669,-551 865,-551 865,-551 871,-551 877,-557 877,-563 877,-563 877,-587 877,-587 877,-593 871,-599 865,-599"/>
<text text-anchor="start" x="747" y="-581.8" font-family="Times,serif" font-size="14.00">outputs</text>
<polygon fill="none" stroke="black" points="665,-555 665,-576 709,-576 709,-555 665,-555"/>
<text text-anchor="start" x="668" y="-561.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="709,-555 709,-576 869,-576 869,-555 709,-555"/>
<text text-anchor="start" x="712" y="-561.8" font-family="Times,serif" font-size="14.00">[&#39;on_engine&#39;, &#39;engine_starts&#39;]</text>
</a>
</g>
</g>
<!-- 37028&#45;&gt;37029 -->
<g id="edge20" class="edge">
<title>37028&#45;&gt;37029</title>
<path fill="none" stroke="black" d="M700,-550.75C700,-550.75 700,-525.29 700,-525.29"/>
<polygon fill="black" stroke="black" points="703.5,-525.29 700,-515.29 696.5,-525.29 703.5,-525.29"/>
</g>
<!-- 37030 -->
<g id="17" class="node">
<title>37030</title>
<g id="a_17"><a xlink:title="&quot;Prediction results.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M750,-437C750,-437 692,-437 692,-437 686,-437 680,-431 680,-425 680,-425 680,-413 680,-413 680,-407 686,-401 692,-401 692,-401 750,-401 750,-401 756,-401 762,-407 762,-413 762,-413 762,-425 762,-425 762,-431 756,-437 750,-437"/>
<text text-anchor="start" x="690.5" y="-414.8" font-family="Times,serif" font-size="14.00">predictions</text>
</a>
</g>
</g>
<!-- 37029&#45;&gt;37030 -->
<g id="edge21" class="edge">
<title>37029&#45;&gt;37030</title>
<path fill="none" stroke="black" d="M711.5,-478.91C711.5,-478.91 711.5,-447.26 711.5,-447.26"/>
<polygon fill="black" stroke="black" points="715,-447.26 711.5,-437.26 708,-447.26 715,-447.26"/>
</g>
<!-- 37030&#45;&gt;37035 -->
<g id="edge22" class="edge">
<title>37030&#45;&gt;37035</title>
<path fill="none" stroke="black" d="M762.11,-413C798.38,-413 845.5,-413 845.5,-413 845.5,-413 845.5,-369.17 845.5,-369.17"/>
<polygon fill="black" stroke="black" points="849,-369.17 845.5,-359.17 842,-369.17 849,-369.17"/>
</g>
<!-- 37031 -->
<g id="18" class="node">
<title>37031</title>
<g id="a_18"><a xlink:title="&quot;Keys to select.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M263.5,-1259C263.5,-1259 186.5,-1259 186.5,-1259 180.5,-1259 174.5,-1253 174.5,-1247 174.5,-1247 174.5,-1223 174.5,-1223 174.5,-1217 180.5,-1211 186.5,-1211 186.5,-1211 263.5,-1211 263.5,-1211 269.5,-1211 275.5,-1217 275.5,-1223 275.5,-1223 275.5,-1247 275.5,-1247 275.5,-1253 269.5,-1259 263.5,-1259"/>
<text text-anchor="start" x="185" y="-1241.8" font-family="Times,serif" font-size="14.00">metrics_inputs</text>
<polygon fill="none" stroke="black" points="183,-1215 183,-1236 237,-1236 237,-1215 183,-1215"/>
<text text-anchor="start" x="196" y="-1221.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="237,-1215 237,-1236 268,-1236 268,-1215 237,-1215"/>
<text text-anchor="start" x="240" y="-1221.8" font-family="Times,serif" font-size="14.00">{}</text>
</a>
</g>
</g>
<!-- 37031&#45;&gt;37032 -->
<g id="edge23" class="edge">
<title>37031&#45;&gt;37032</title>
<path fill="none" stroke="black" d="M225,-1210.75C225,-1210.75 225,-1185.29 225,-1185.29"/>
<polygon fill="black" stroke="black" points="228.5,-1185.29 225,-1175.29 221.5,-1185.29 228.5,-1185.29"/>
</g>
<!-- 37033 -->
<g id="20" class="node">
<title>37033</title>
<g id="a_20"><a xlink:title="&quot;Kwargs to pass to metric functions.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1166,-959C1166,-959 1082,-959 1082,-959 1076,-959 1070,-953 1070,-947 1070,-947 1070,-935 1070,-935 1070,-929 1076,-923 1082,-923 1082,-923 1166,-923 1166,-923 1172,-923 1178,-929 1178,-935 1178,-935 1178,-947 1178,-947 1178,-953 1172,-959 1166,-959"/>
<text text-anchor="start" x="1080.5" y="-936.8" font-family="Times,serif" font-size="14.00">metrics_kwargs</text>
</a>
</g>
</g>
<!-- 37032&#45;&gt;37033 -->
<g id="edge24" class="edge">
<title>37032&#45;&gt;37033</title>
<path fill="none" stroke="black" d="M294.25,-1157C558.42,-1157 1488,-1157 1488,-1157 1488,-1157 1488,-941 1488,-941 1488,-941 1188.1,-941 1188.1,-941"/>
<polygon fill="black" stroke="black" points="1188.1,-937.5 1178.1,-941 1188.1,-944.5 1188.1,-937.5"/>
</g>
<!-- 37033&#45;&gt;37035 -->
<g id="edge25" class="edge">
<title>37033&#45;&gt;37035</title>
<path fill="none" stroke="black" d="M1069.9,-941C1001.34,-941 892,-941 892,-941 892,-941 892,-369.28 892,-369.28"/>
<polygon fill="black" stroke="black" points="895.5,-369.28 892,-359.28 888.5,-369.28 895.5,-369.28"/>
</g>
<!-- 37034 -->
<g id="21" class="node">
<title>37034</title>
<g id="a_21"><a xlink:title="&quot;Metric functions.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1648.5,-443C1648.5,-443 945.5,-443 945.5,-443 939.5,-443 933.5,-437 933.5,-431 933.5,-431 933.5,-407 933.5,-407 933.5,-401 939.5,-395 945.5,-395 945.5,-395 1648.5,-395 1648.5,-395 1654.5,-395 1660.5,-401 1660.5,-407 1660.5,-407 1660.5,-431 1660.5,-431 1660.5,-437 1654.5,-443 1648.5,-443"/>
<text text-anchor="start" x="1277" y="-425.8" font-family="Times,serif" font-size="14.00">metrics</text>
<polygon fill="none" stroke="black" points="942,-399 942,-420 986,-420 986,-399 942,-399"/>
<text text-anchor="start" x="945" y="-405.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="986,-399 986,-420 1653,-420 1653,-399 986,-399"/>
<text text-anchor="start" x="989" y="-405.8" font-family="Times,serif" font-size="14.00">{&#39;engine_starts&#39;: &lt;function _accuracy_score at 0x145eaa0c0&gt;, &#39;on_engine&#39;: &lt;function _accuracy_score at 0x145eaa0c0&gt;}</text>
</a>
</g>
</g>
<!-- 37034&#45;&gt;37035 -->
<g id="edge26" class="edge">
<title>37034&#45;&gt;37035</title>
<path fill="none" stroke="black" d="M933.5,-425C916.88,-425 907,-425 907,-425 907,-425 907,-369.23 907,-369.23"/>
<polygon fill="black" stroke="black" points="910.5,-369.23 907,-359.23 903.5,-369.23 910.5,-369.23"/>
</g>
<!-- 37036 -->
<g id="23" class="node">
<title>37036</title>
<g id="a_23"><a xlink:title="&quot;Error coefficients.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M883,-281C883,-281 853,-281 853,-281 847,-281 841,-275 841,-269 841,-269 841,-257 841,-257 841,-251 847,-245 853,-245 853,-245 883,-245 883,-245 889,-245 895,-251 895,-257 895,-257 895,-269 895,-269 895,-275 889,-281 883,-281"/>
<text text-anchor="start" x="852" y="-258.8" font-family="Times,serif" font-size="14.00">errors</text>
</a>
</g>
</g>
<!-- 37035&#45;&gt;37036 -->
<g id="edge27" class="edge">
<title>37035&#45;&gt;37036</title>
<path fill="none" stroke="black" d="M868,-322.91C868,-322.91 868,-291.26 868,-291.26"/>
<polygon fill="black" stroke="black" points="871.5,-291.26 868,-281.26 864.5,-291.26 871.5,-291.26"/>
</g>
<!-- 37039 -->
<g id="26" class="node">
<title>37039</title>
<g id="a_26"><a xlink:title="&quot;Calculate calibration statuses.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="1058,-203 886,-203 886,-167 1058,-167 1058,-203"/>
<g id="a_26_8"><a xlink:href="./control_model1/calculate_calibration_status.html" xlink:title="&quot;Calculate calibration statuses.&quot;">
<text text-anchor="start" x="896.5" y="-180.8" font-family="Times,serif" font-size="14.00">calculate_calibration_status</text>
</a>
</g>
</a>
</g>
</g>
<!-- 37036&#45;&gt;37039 -->
<g id="edge28" class="edge">
<title>37036&#45;&gt;37039</title>
<path fill="none" stroke="black" d="M890.5,-244.91C890.5,-244.91 890.5,-213.26 890.5,-213.26"/>
<polygon fill="black" stroke="black" points="894,-213.26 890.5,-203.26 887,-213.26 894,-213.26"/>
</g>
<!-- 37041 -->
<g id="end" class="node">
<title>37041</title>
<polygon fill="#084368" stroke="#084368" points="887.68,-23.05 889.46,-23.15 891.22,-23.3 892.95,-23.49 894.65,-23.74 896.31,-24.03 897.92,-24.36 899.48,-24.75 900.99,-25.18 902.43,-25.65 903.8,-26.16 905.1,-26.71 906.32,-27.31 907.45,-27.94 908.51,-28.61 909.47,-29.31 910.35,-30.04 911.13,-30.8 911.81,-31.59 912.41,-32.41 912.91,-33.25 913.31,-34.11 913.62,-34.99 913.83,-35.89 913.96,-36.8 913.99,-37.72 913.93,-38.65 913.79,-39.59 913.57,-40.53 913.27,-41.47 912.89,-42.41 912.44,-43.35 911.92,-44.28 911.33,-45.2 910.69,-46.11 909.98,-47.01 909.22,-47.89 908.41,-48.75 907.56,-49.59 906.67,-50.41 905.73,-51.2 904.76,-51.96 903.76,-52.69 902.74,-53.39 901.68,-54.06 900.61,-54.69 899.52,-55.29 898.41,-55.84 897.28,-56.35 896.14,-56.82 894.99,-57.25 893.84,-57.64 892.67,-57.97 891.5,-58.26 890.33,-58.51 889.15,-58.7 887.96,-58.85 886.78,-58.95 885.59,-59 884.41,-59 883.22,-58.95 882.04,-58.85 880.85,-58.7 879.67,-58.51 878.5,-58.26 877.33,-57.97 876.16,-57.64 875.01,-57.25 873.86,-56.82 872.72,-56.35 871.59,-55.84 870.48,-55.29 869.39,-54.69 868.32,-54.06 867.26,-53.39 866.24,-52.69 865.24,-51.96 864.27,-51.2 863.33,-50.41 862.44,-49.59 861.59,-48.75 860.78,-47.89 860.02,-47.01 859.31,-46.11 858.67,-45.2 858.08,-44.28 857.56,-43.35 857.11,-42.41 856.73,-41.47 856.43,-40.53 856.21,-39.59 856.07,-38.65 856.01,-37.72 856.04,-36.8 856.17,-35.89 856.38,-34.99 856.69,-34.11 857.09,-33.25 857.59,-32.41 858.19,-31.59 858.87,-30.8 859.65,-30.04 860.53,-29.31 861.49,-28.61 862.55,-27.94 863.68,-27.31 864.9,-26.71 866.2,-26.16 867.57,-25.65 869.01,-25.18 870.52,-24.75 872.08,-24.36 873.69,-24.03 875.35,-23.74 877.05,-23.49 878.78,-23.3 880.54,-23.15 882.32,-23.05 884.1,-23 885.9,-23 887.68,-23.05"/>
<text text-anchor="middle" x="885" y="-37.3" font-family="Times,serif" font-size="14.00" fill="#ffffff">end</text>
</g>
<!-- 37036&#45;&gt;37041 -->
<g id="edge32" class="edge">
<title>37036&#45;&gt;37041</title>
<path fill="none" stroke="black" d="M871.13,-244.83C871.13,-244.83 871.13,-65.83 871.13,-65.83"/>
<polygon fill="black" stroke="black" points="874.63,-65.83 871.13,-55.83 867.63,-65.83 874.63,-65.83"/>
<text text-anchor="start" x="793.13" y="-182.13" font-family="Times,serif" font-size="14.00">errors &#45;&#45;&gt; end</text>
<polygon fill="none" stroke="black" points="791.13,-155.33 791.13,-176.33 845.13,-176.33 845.13,-155.33 791.13,-155.33"/>
<text text-anchor="start" x="807.13" y="-162.13" font-family="Times,serif" font-size="14.00">out_id</text>
<polygon fill="none" stroke="black" points="845.13,-155.33 845.13,-176.33 871.13,-176.33 871.13,-155.33 845.13,-155.33"/>
<text text-anchor="start" x="848.13" y="-162.13" font-family="Times,serif" font-size="14.00">0</text>
</g>
<!-- 37037 -->
<g id="24" class="node">
<title>37037</title>
<g id="a_24"><a xlink:title="&quot;Upper limits.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1002,-287C1002,-287 930,-287 930,-287 924,-287 918,-281 918,-275 918,-275 918,-251 918,-251 918,-245 924,-239 930,-239 930,-239 1002,-239 1002,-239 1008,-239 1014,-245 1014,-251 1014,-251 1014,-275 1014,-275 1014,-281 1008,-287 1002,-287"/>
<text text-anchor="start" x="942.5" y="-269.8" font-family="Times,serif" font-size="14.00">up_limit</text>
<polygon fill="none" stroke="black" points="926,-243 926,-264 970,-264 970,-243 926,-243"/>
<text text-anchor="start" x="929" y="-249.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="970,-243 970,-264 1006,-264 1006,-243 970,-243"/>
<text text-anchor="start" x="973" y="-249.8" font-family="Times,serif" font-size="14.00">None</text>
</a>
</g>
</g>
<!-- 37037&#45;&gt;37039 -->
<g id="edge29" class="edge">
<title>37037&#45;&gt;37039</title>
<path fill="none" stroke="black" d="M966,-238.75C966,-238.75 966,-213.29 966,-213.29"/>
<polygon fill="black" stroke="black" points="969.5,-213.29 966,-203.29 962.5,-213.29 969.5,-213.29"/>
</g>
<!-- 37038 -->
<g id="25" class="node">
<title>37038</title>
<g id="a_25"><a xlink:title="&quot;Lower limits.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1294,-287C1294,-287 1044,-287 1044,-287 1038,-287 1032,-281 1032,-275 1032,-275 1032,-251 1032,-251 1032,-245 1038,-239 1044,-239 1044,-239 1294,-239 1294,-239 1300,-239 1306,-245 1306,-251 1306,-251 1306,-275 1306,-275 1306,-281 1300,-287 1294,-287"/>
<text text-anchor="start" x="1145.5" y="-269.8" font-family="Times,serif" font-size="14.00">dn_limit</text>
<polygon fill="none" stroke="black" points="1040,-243 1040,-264 1084,-264 1084,-243 1040,-243"/>
<text text-anchor="start" x="1043" y="-249.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="1084,-243 1084,-264 1298,-264 1298,-243 1084,-243"/>
<text text-anchor="start" x="1087" y="-249.8" font-family="Times,serif" font-size="14.00">{&#39;engine_starts&#39;: 0.7, &#39;on_engine&#39;: 0.7}</text>
</a>
</g>
</g>
<!-- 37038&#45;&gt;37039 -->
<g id="edge30" class="edge">
<title>37038&#45;&gt;37039</title>
<path fill="none" stroke="black" d="M1045,-238.75C1045,-238.75 1045,-213.29 1045,-213.29"/>
<polygon fill="black" stroke="black" points="1048.5,-213.29 1045,-203.29 1041.5,-213.29 1048.5,-213.29"/>
</g>
<!-- 37040 -->
<g id="27" class="node">
<title>37040</title>
<g id="a_27"><a xlink:title="&quot;Calibration statuses.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M957,-131C957,-131 927,-131 927,-131 921,-131 915,-125 915,-119 915,-119 915,-107 915,-107 915,-101 921,-95 927,-95 927,-95 957,-95 957,-95 963,-95 969,-101 969,-107 969,-107 969,-119 969,-119 969,-125 963,-131 957,-131"/>
<text text-anchor="start" x="926.5" y="-108.8" font-family="Times,serif" font-size="14.00">status</text>
</a>
</g>
</g>
<!-- 37039&#45;&gt;37040 -->
<g id="edge31" class="edge">
<title>37039&#45;&gt;37040</title>
<path fill="none" stroke="black" d="M942,-166.83C942,-166.83 942,-141.41 942,-141.41"/>
<polygon fill="black" stroke="black" points="945.5,-141.41 942,-131.41 938.5,-141.41 945.5,-141.41"/>
</g>
<!-- 37040&#45;&gt;37041 -->
<g id="edge33" class="edge">
<title>37040&#45;&gt;37041</title>
<path fill="none" stroke="black" d="M914.61,-113C906.56,-113 899.87,-113 899.87,-113 899.87,-113 899.87,-65.22 899.87,-65.22"/>
<polygon fill="black" stroke="black" points="903.37,-65.22 899.87,-55.22 896.37,-65.22 903.37,-65.22"/>
<text text-anchor="start" x="821.87" y="-123.28" font-family="Times,serif" font-size="14.00">status &#45;&#45;&gt; end</text>
<polygon fill="none" stroke="black" points="819.87,-96.48 819.87,-117.48 873.87,-117.48 873.87,-96.48 819.87,-96.48"/>
<text text-anchor="start" x="835.87" y="-103.28" font-family="Times,serif" font-size="14.00">out_id</text>
<polygon fill="none" stroke="black" points="873.87,-96.48 873.87,-117.48 899.87,-117.48 899.87,-96.48 873.87,-96.48"/>
<text text-anchor="start" x="876.87" y="-103.28" font-family="Times,serif" font-size="14.00">1</text>
</g>
</g>
</svg>
</div>

<script>
    var id, hist = {i: -1, list: []}, isFull;

    function FullScreen() {
        var el = document.getElementById("btnFullScreen");
        if (isFull) {
            closeFullscreen();
            isFull = false;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-compress", "sh-ico-expand"));
        } else {
            openFullscreen();
            isFull = true;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-expand", "sh-ico-compress"));
        }
    }

    function getURLParam(name) {
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results == null) {
            return null;
        } else {
            return decodeURI(results[1]) || 0;
        }
    }

    function setURLParam(key, value) {
        let uri = window.location.href,
            re = new RegExp("([?&])" + key + "=.*?(&|$)", "i"),
            separator = uri.indexOf('?') !== -1 ? "&" : "?";
        if (uri.match(re)) {
            return uri.replace(re, '$1' + key + "=" + encodeURI(value) + '$2');
        } else {
            return uri + separator + key + "=" + encodeURI(value);
        }
    }

    function iframeLoad(e) {
        e.preventDefault();
        document.getElementById("iframe").contentWindow.postMessage({
            id: id,
            action: 'id'
        }, '*');
    }

    function onBack(e) {
        e.preventDefault();
        if (hist.i > 0) {
            hist.i--;
            setIframe(hist.list[hist.i])
        }
    }

    function onForward(e) {
        e.preventDefault();
        if (hist.i + 1 < hist.list.length) {
            hist.i++;
            setIframe(hist.list[hist.i])
        }
    }

    function setIframe(src) {
        document.getElementById("iframe").src = src
    }

    function closeFullscreen() {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { /* Firefox */
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { /* IE/Edge */
            document.msExitFullscreen();
        }
    }

    function isFullscreenSupported() {
        let elem = document.body;
        return elem.requestFullscreen || elem.mozRequestFullScreen || elem.webkitRequestFullscreen || elem.msRequestFullscreen
    }

    function openFullscreen() {
        let elem = document.body;
        if (elem.requestFullscreen) {
            elem.requestFullscreen()
        } else if (elem.mozRequestFullScreen) { /* Firefox */
            elem.mozRequestFullScreen()
        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
            elem.webkitRequestFullscreen()
        } else if (elem.msRequestFullscreen) { /* IE/Edge */
            elem.msRequestFullscreen()
        }
    }

    function _onload() {
        if (getURLParam("controls") === "true") {
            document.getElementById("iframe").onload = iframeLoad;
            document.getElementById("index").style.display = "flex";
            if (isFullscreenSupported())
                document.getElementById("btnFullScreen").style.display = "inline-block";
            id = Date.now();
            setIframe(setURLParam("controls", "false"));
            window.addEventListener('message', function (event) {
                if (event.data.id === id) {
                    if (event.data.action === 'url') {
                        let href = event.data.url;
                        if (hist.list[hist.i] !== href) {
                            hist.i++;
                            hist.list = hist.list.slice(0, hist.i);
                            hist.list.push(href);
                        }
                        if (hist.i > 0) {
                            document.getElementById("btnBack").style.opacity = "1"
                        } else {
                            document.getElementById("btnBack").style.opacity = "0.5"
                        }
                        if (hist.i + 1 < hist.list.length) {
                            document.getElementById("btnForward").style.opacity = "1"
                        } else {
                            document.getElementById("btnForward").style.opacity = "0.5"
                        }
                    }
                }
            });
        } else {
            refreshIntervalId = setInterval(sendUrl, 100);
            setTimeout(function () {
                clearInterval(refreshIntervalId)
            }, 30000);
            document.getElementById("content").style.display = "block";
            var el = document.getElementById(getURLParam("id") || 'graph0');
            if (el)
                if (el.getAttribute('class').indexOf('node') !== -1) {
                    var bound = el.getBoundingClientRect();
                    window.scrollTo((bound.left + bound.right) / 2 - document.body.offsetWidth / 2, (bound.top + bound.bottom) / 2 - document.body.offsetHeight / 2);
                    el.setAttribute('class', el.getAttribute('class') + " on");
                } else if (el.getAttribute('class').indexOf('graph') !== -1) {
                    el.parentNode.setAttribute('class', el.parentNode.getAttribute('class') + " on");
                }
        }
        let parser = new DOMParser();
        for (let e of document.getElementsByTagName('viz')) {
            let out, digraph = e.getAttribute('digraph'), options = {
                engine: e.getAttribute('engine') || 'dot',
                format: "svg"
            };
            try {
                out = parser.parseFromString(Viz(digraph, options), "image/svg+xml").documentElement;
            } catch (e) {
                out = document.createElement('div')
                out.setAttribute('class', 'viz error')
                out.innerHTML = e.message === undefined ? "An error occurred while processing the graph input." : e.message;
            }
            e.appendChild(out);
        }
    }

    function getParentOrigin() {
        try {
            return parent.window.origin || "null";
        } catch (exception) {
            return "null"
        }
    }

    function sendUrl() {
        if (parent_iframe_id !== null && window.location.href !== url) {
            url = window.location.href;
            parent.postMessage({
                id: parent_iframe_id,
                url: url,
                action: 'url'
            }, '*');
            clearInterval(refreshIntervalId);
        }
    }

    var parent_iframe_id = null, url = null, refreshIntervalId;
    window.addEventListener('message', function (event) {
        var origin = event.origin === 'file:' ? 'null' : (event.origin || 'null');
        if (origin === getParentOrigin())
            if (parent_iframe_id === null && event.data.action === 'id') {
                parent_iframe_id = event.data.id
            }
    });
</script>
</body>
</html>