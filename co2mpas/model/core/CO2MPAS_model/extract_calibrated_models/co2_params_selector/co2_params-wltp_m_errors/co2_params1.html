<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">
        svg.on {
            border: 4px solid #008CFF;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child path:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child polygon:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        @keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        @-webkit-keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        .controls {
            background: #343a40;
            width: 100%;
        }

        .controls button {
            font-size: 18px;
            border: none;
            outline: none;
            background-color: transparent;
            color: #BBBBBB;
            cursor: pointer;
            border-radius: 0.25rem;
        }

        .controls button:hover {
            background-color: #555;
        }

        body {
            height: 100vh;
            width: 100vw;
            margin: 0;
        }

        #iframe {
            flex-grow: 1;
        }

        #index {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .sh-ico {
            display: inline-block;
            width: 18px;
            height: 18px;
            margin-left: 8px;
            padding-top: 3px;
            vertical-align: middle;
            content: "";
            background: no-repeat center center;
            background-size: 100% 100%;
        }

        .sh-ico-compress {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3'/%3E%3C/svg%3E");
        }

        .sh-ico-expand {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3'/%3E%3C/svg%3E");
        }
    </style>
    <!-- Required Javascript -->
    
    
</head>
<body onload="_onload()">
<div id="index" style="display: none; height: 100%">
    <div class="controls">
        <button id="btnFullScreen" class="sh-ico sh-ico-expand"
                style="display: none"
                onclick="FullScreen()"
                title="Enter/Exit Full Screen">
        </button>
        <button id="btnBack" onclick="onBack(event)" title="Go back">
            &lt;
        </button>
        <button id="btnForward" onclick="onForward(event)" title="Go forward">
            &gt;
        </button>
    </div>
    <iframe id="iframe" allowfullscreen frameborder="0"></iframe>
</div>
<div id="content" style="background: white; display: none"> <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 6.0.2 (0)
 -->
<!-- Title: dmap Pages: 1 -->
<svg width="1716pt" height="1207pt"
 viewBox="0.00 0.00 1716.00 1207.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1203)">
<title>dmap</title>
<text text-anchor="middle" x="854" y="-7.8" font-family="Times,serif" font-size="14.00">dmap</text>
<!-- 30791 -->
<g id="0" class="node">
<title>30791</title>
<g id="a_0"><a xlink:title="&quot;A dictionary that maps the dict keys ({old key: new key}.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M72,-1199C72,-1199 12,-1199 12,-1199 6,-1199 0,-1193 0,-1187 0,-1187 0,-1163 0,-1163 0,-1157 6,-1151 12,-1151 12,-1151 72,-1151 72,-1151 78,-1151 84,-1157 84,-1163 84,-1163 84,-1187 84,-1187 84,-1193 78,-1199 72,-1199"/>
<text text-anchor="start" x="10" y="-1181.8" font-family="Times,serif" font-size="14.00">inputs_map</text>
<polygon fill="none" stroke="black" points="8,-1155 8,-1176 54,-1176 54,-1155 8,-1155"/>
<text text-anchor="start" x="13" y="-1161.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="54,-1155 54,-1176 76,-1176 76,-1155 54,-1155"/>
<text text-anchor="start" x="57" y="-1161.8" font-family="Times,serif" font-size="14.00">{}</text>
</a>
</g>
</g>
<!-- 30792 -->
<g id="1" class="node">
<title>30792</title>
<g id="a_1"><a xlink:title="&quot;Returns a dict with new key values.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="94,-1115 2,-1115 2,-1079 94,-1079 94,-1115"/>
<g id="a_1_0"><a xlink:href="./co2_params1/map_dict.html" xlink:title="&quot;Returns a dict with new key values.&quot;">
<text text-anchor="start" x="12.5" y="-1092.8" font-family="Times,serif" font-size="14.00">select_inputs</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30791&#45;&gt;30792 -->
<g id="edge1" class="edge">
<title>30791&#45;&gt;30792</title>
<path fill="none" stroke="black" d="M43,-1150.75C43,-1150.75 43,-1125.29 43,-1125.29"/>
<polygon fill="black" stroke="black" points="46.5,-1125.29 43,-1115.29 39.5,-1125.29 46.5,-1125.29"/>
</g>
<!-- 30794 -->
<g id="3" class="node">
<title>30794</title>
<g id="a_3"><a xlink:title="&quot;A dictionary.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M79,-1037C79,-1037 25,-1037 25,-1037 19,-1037 13,-1031 13,-1025 13,-1025 13,-1013 13,-1013 13,-1007 19,-1001 25,-1001 25,-1001 79,-1001 79,-1001 85,-1001 91,-1007 91,-1013 91,-1013 91,-1025 91,-1025 91,-1031 85,-1037 79,-1037"/>
<text text-anchor="start" x="23.5" y="-1014.8" font-family="Times,serif" font-size="14.00">inputs&lt;0&gt;</text>
</a>
</g>
</g>
<!-- 30792&#45;&gt;30794 -->
<g id="edge2" class="edge">
<title>30792&#45;&gt;30794</title>
<path fill="none" stroke="black" d="M52,-1078.91C52,-1078.91 52,-1047.26 52,-1047.26"/>
<polygon fill="black" stroke="black" points="55.5,-1047.26 52,-1037.26 48.5,-1047.26 55.5,-1047.26"/>
</g>
<!-- 30793 -->
<g id="2" class="node">
<title>30793</title>
<g id="a_2"><a xlink:title="&quot;A sequence of dicts.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M144,-1193C144,-1193 114,-1193 114,-1193 108,-1193 102,-1187 102,-1181 102,-1181 102,-1169 102,-1169 102,-1163 108,-1157 114,-1157 114,-1157 144,-1157 144,-1157 150,-1157 156,-1163 156,-1169 156,-1169 156,-1181 156,-1181 156,-1187 150,-1193 144,-1193"/>
<text text-anchor="start" x="117.5" y="-1170.8" font-family="Times,serif" font-size="14.00">data</text>
</a>
</g>
</g>
<!-- 30793&#45;&gt;30792 -->
<g id="edge3" class="edge">
<title>30793&#45;&gt;30792</title>
<path fill="none" stroke="black" d="M101.66,-1175C94.62,-1175 89,-1175 89,-1175 89,-1175 89,-1125.09 89,-1125.09"/>
<polygon fill="black" stroke="black" points="92.5,-1125.09 89,-1115.09 85.5,-1125.09 92.5,-1125.09"/>
</g>
<!-- 30802 -->
<g id="11" class="node">
<title>30802</title>
<g id="a_11"><a xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="360,-515 266,-515 266,-479 360,-479 360,-515"/>
<g id="a_11_1"><a xlink:href="./co2_params1/selector-0.html" xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<text text-anchor="start" x="276" y="-492.8" font-family="Times,serif" font-size="14.00">select_targets</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30793&#45;&gt;30802 -->
<g id="edge4" class="edge">
<title>30793&#45;&gt;30802</title>
<path fill="none" stroke="black" d="M126,-1156.87C126,-1049.04 126,-497 126,-497 126,-497 255.81,-497 255.81,-497"/>
<polygon fill="black" stroke="black" points="255.81,-500.5 265.81,-497 255.81,-493.5 255.81,-500.5"/>
</g>
<!-- 30810 -->
<g id="19" class="node">
<title>30810</title>
<g id="a_19"><a xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="294,-1115 156,-1115 156,-1079 294,-1079 294,-1115"/>
<g id="a_19_2"><a xlink:href="./co2_params1/selector-1.html" xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<text text-anchor="start" x="166" y="-1092.8" font-family="Times,serif" font-size="14.00">select_metrics_inputs</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30793&#45;&gt;30810 -->
<g id="edge5" class="edge">
<title>30793&#45;&gt;30810</title>
<path fill="none" stroke="black" d="M156.1,-1175C161.35,-1175 165.25,-1175 165.25,-1175 165.25,-1175 165.25,-1125.09 165.25,-1125.09"/>
<polygon fill="black" stroke="black" points="168.75,-1125.09 165.25,-1115.09 161.75,-1125.09 168.75,-1125.09"/>
</g>
<!-- 30796 -->
<g id="5" class="node">
<title>30796</title>
<g id="a_5"><a xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="346,-959 232,-959 232,-923 346,-923 346,-959"/>
<g id="a_5_3"><a xlink:href="./co2_params1/selector.html" xlink:title="&quot;Selects the chosen dictionary keys from the given dictionary.&quot;">
<text text-anchor="start" x="242" y="-936.8" font-family="Times,serif" font-size="14.00">select_inputs&lt;0&gt;</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30794&#45;&gt;30796 -->
<g id="edge6" class="edge">
<title>30794&#45;&gt;30796</title>
<path fill="none" stroke="black" d="M52,-1000.91C52,-977.87 52,-941 52,-941 52,-941 221.93,-941 221.93,-941"/>
<polygon fill="black" stroke="black" points="221.93,-944.5 231.93,-941 221.93,-937.5 221.93,-944.5"/>
</g>
<!-- 30795 -->
<g id="4" class="node">
<title>30795</title>
<g id="a_4"><a xlink:title="&quot;Keys to select.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M378,-1043C378,-1043 200,-1043 200,-1043 194,-1043 188,-1037 188,-1031 188,-1031 188,-1007 188,-1007 188,-1001 194,-995 200,-995 200,-995 378,-995 378,-995 384,-995 390,-1001 390,-1007 390,-1007 390,-1031 390,-1031 390,-1037 384,-1043 378,-1043"/>
<text text-anchor="start" x="272" y="-1025.8" font-family="Times,serif" font-size="14.00">inputs</text>
<polygon fill="none" stroke="black" points="196,-999 196,-1020 240,-1020 240,-999 196,-999"/>
<text text-anchor="start" x="199" y="-1005.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="240,-999 240,-1020 382,-1020 382,-999 240,-999"/>
<text text-anchor="start" x="243" y="-1005.8" font-family="Times,serif" font-size="14.00">[&#39;co2_emissions_model&#39;]</text>
</a>
</g>
</g>
<!-- 30795&#45;&gt;30796 -->
<g id="edge7" class="edge">
<title>30795&#45;&gt;30796</title>
<path fill="none" stroke="black" d="M289,-994.75C289,-994.75 289,-969.29 289,-969.29"/>
<polygon fill="black" stroke="black" points="292.5,-969.29 289,-959.29 285.5,-969.29 292.5,-969.29"/>
</g>
<!-- 30797 -->
<g id="6" class="node">
<title>30797</title>
<g id="a_6"><a xlink:title="&quot;A sequence of dicts.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M335,-887C335,-887 281,-887 281,-887 275,-887 269,-881 269,-875 269,-875 269,-863 269,-863 269,-857 275,-851 281,-851 281,-851 335,-851 335,-851 341,-851 347,-857 347,-863 347,-863 347,-875 347,-875 347,-881 341,-887 335,-887"/>
<text text-anchor="start" x="279.5" y="-864.8" font-family="Times,serif" font-size="14.00">inputs&lt;1&gt;</text>
</a>
</g>
</g>
<!-- 30796&#45;&gt;30797 -->
<g id="edge8" class="edge">
<title>30796&#45;&gt;30797</title>
<path fill="none" stroke="black" d="M307.5,-922.83C307.5,-922.83 307.5,-897.41 307.5,-897.41"/>
<polygon fill="black" stroke="black" points="311,-897.41 307.5,-887.41 304,-897.41 311,-897.41"/>
</g>
<!-- 30798 -->
<g id="7" class="node">
<title>30798</title>
<g id="a_7"><a xlink:title="&quot;Combines multiple dicts in one.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="409,-815 309,-815 309,-779 409,-779 409,-815"/>
<g id="a_7_4"><a xlink:href="./co2_params1/combine_dicts.html" xlink:title="&quot;Combines multiple dicts in one.&quot;">
<text text-anchor="start" x="319" y="-792.8" font-family="Times,serif" font-size="14.00">combine_dicts</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30797&#45;&gt;30798 -->
<g id="edge9" class="edge">
<title>30797&#45;&gt;30798</title>
<path fill="none" stroke="black" d="M328,-850.83C328,-850.83 328,-825.41 328,-825.41"/>
<polygon fill="black" stroke="black" points="331.5,-825.41 328,-815.41 324.5,-825.41 331.5,-825.41"/>
</g>
<!-- 30800 -->
<g id="9" class="node">
<title>30800</title>
<g id="a_9"><a xlink:title="&quot;A unique dict.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M405,-743C405,-743 313,-743 313,-743 307,-743 301,-737 301,-731 301,-731 301,-719 301,-719 301,-713 307,-707 313,-707 313,-707 405,-707 405,-707 411,-707 417,-713 417,-719 417,-719 417,-731 417,-731 417,-737 411,-743 405,-743"/>
<text text-anchor="start" x="311.5" y="-720.8" font-family="Times,serif" font-size="14.00">prediction_inputs</text>
</a>
</g>
</g>
<!-- 30798&#45;&gt;30800 -->
<g id="edge10" class="edge">
<title>30798&#45;&gt;30800</title>
<path fill="none" stroke="black" d="M359,-778.83C359,-778.83 359,-753.41 359,-753.41"/>
<polygon fill="black" stroke="black" points="362.5,-753.41 359,-743.41 355.5,-753.41 362.5,-753.41"/>
</g>
<!-- 30799 -->
<g id="8" class="node">
<title>30799</title>
<g id="a_8"><a xlink:title="&quot;A sequence of dicts.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M483,-887C483,-887 387,-887 387,-887 381,-887 375,-881 375,-875 375,-875 375,-863 375,-863 375,-857 381,-851 387,-851 387,-851 483,-851 483,-851 489,-851 495,-857 495,-863 495,-863 495,-875 495,-875 495,-881 489,-887 483,-887"/>
<text text-anchor="start" x="385" y="-864.8" font-family="Times,serif" font-size="14.00">calibrated_models</text>
</a>
</g>
</g>
<!-- 30799&#45;&gt;30798 -->
<g id="edge11" class="edge">
<title>30799&#45;&gt;30798</title>
<path fill="none" stroke="black" d="M392,-850.83C392,-850.83 392,-825.41 392,-825.41"/>
<polygon fill="black" stroke="black" points="395.5,-825.41 392,-815.41 388.5,-825.41 395.5,-825.41"/>
</g>
<!-- 30804 -->
<g id="13" class="node">
<title>30804</title>
<g id="a_13"><a xlink:title="&quot;Calculates fuel consumptions.&quot;">
<polygon fill="#ffc490" stroke="#ffc490" points="549,-671 335,-671 335,-635 555,-635 555,-665 549,-671"/>
<polyline fill="none" stroke="#ffc490" points="549,-671 549,-665"/>
<polyline fill="none" stroke="#ffc490" points="555,-665 549,-665"/>
<g id="a_13_5"><a xlink:href="./co2_params1/Engine_fuel_consumption_sub_model.html" xlink:title="&quot;Calculates fuel consumptions.&quot;">
<text text-anchor="start" x="345.5" y="-648.8" font-family="Times,serif" font-size="14.00">Engine fuel consumption sub model</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30799&#45;&gt;30804 -->
<g id="edge12" class="edge">
<title>30799&#45;&gt;30804</title>
<path fill="none" stroke="black" d="M456,-850.96C456,-850.96 456,-681.15 456,-681.15"/>
<polygon fill="black" stroke="black" points="459.5,-681.15 456,-671.15 452.5,-681.15 459.5,-681.15"/>
</g>
<!-- 30800&#45;&gt;30804 -->
<g id="edge13" class="edge">
<title>30800&#45;&gt;30804</title>
<path fill="none" stroke="black" d="M376,-706.83C376,-706.83 376,-681.41 376,-681.41"/>
<polygon fill="black" stroke="black" points="379.5,-681.41 376,-671.41 372.5,-681.41 379.5,-681.41"/>
</g>
<!-- 30801 -->
<g id="10" class="node">
<title>30801</title>
<g id="a_10"><a xlink:title="&quot;Targets keys.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M464,-599C464,-599 162,-599 162,-599 156,-599 150,-593 150,-587 150,-587 150,-563 150,-563 150,-557 156,-551 162,-551 162,-551 464,-551 464,-551 470,-551 476,-557 476,-563 476,-563 476,-587 476,-587 476,-593 470,-599 464,-599"/>
<text text-anchor="start" x="294.5" y="-581.8" font-family="Times,serif" font-size="14.00">targets</text>
<polygon fill="none" stroke="black" points="158,-555 158,-576 202,-576 202,-555 158,-555"/>
<text text-anchor="start" x="161" y="-561.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="202,-555 202,-576 468,-576 468,-555 202,-555"/>
<text text-anchor="start" x="205" y="-561.8" font-family="Times,serif" font-size="14.00">[&#39;identified_co2_emissions&#39;, &#39;calibration_status&#39;]</text>
</a>
</g>
</g>
<!-- 30801&#45;&gt;30802 -->
<g id="edge14" class="edge">
<title>30801&#45;&gt;30802</title>
<path fill="none" stroke="black" d="M313,-550.75C313,-550.75 313,-525.29 313,-525.29"/>
<polygon fill="black" stroke="black" points="316.5,-525.29 313,-515.29 309.5,-525.29 316.5,-525.29"/>
</g>
<!-- 30807 -->
<g id="16" class="node">
<title>30807</title>
<g id="a_16"><a xlink:title="&quot;Select the prediction results.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="666,-515 548,-515 548,-479 666,-479 666,-515"/>
<g id="a_16_6"><a xlink:href="./co2_params1/select_predictions.html" xlink:title="&quot;Select the prediction results.&quot;">
<text text-anchor="start" x="558" y="-492.8" font-family="Times,serif" font-size="14.00">select_predictions</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30801&#45;&gt;30807 -->
<g id="edge15" class="edge">
<title>30801&#45;&gt;30807</title>
<path fill="none" stroke="black" d="M470.33,-550.87C470.33,-530.97 470.33,-506 470.33,-506 470.33,-506 537.85,-506 537.85,-506"/>
<polygon fill="black" stroke="black" points="537.85,-509.5 547.85,-506 537.85,-502.5 537.85,-509.5"/>
</g>
<!-- 30803 -->
<g id="12" class="node">
<title>30803</title>
<g id="a_12"><a xlink:title="&quot;Reference results.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M523,-437C523,-437 471,-437 471,-437 465,-437 459,-431 459,-425 459,-425 459,-413 459,-413 459,-407 465,-401 471,-401 471,-401 523,-401 523,-401 529,-401 535,-407 535,-413 535,-413 535,-425 535,-425 535,-431 529,-437 523,-437"/>
<text text-anchor="start" x="469" y="-414.8" font-family="Times,serif" font-size="14.00">references</text>
</a>
</g>
</g>
<!-- 30802&#45;&gt;30803 -->
<g id="edge16" class="edge">
<title>30802&#45;&gt;30803</title>
<path fill="none" stroke="black" d="M360.16,-497C404.68,-497 464.67,-497 464.67,-497 464.67,-497 464.67,-447.09 464.67,-447.09"/>
<polygon fill="black" stroke="black" points="468.17,-447.09 464.67,-437.09 461.17,-447.09 468.17,-447.09"/>
</g>
<!-- 30813 -->
<g id="22" class="node">
<title>30813</title>
<g id="a_22"><a xlink:title="&quot;Calculate error coefficients.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="875,-359 767,-359 767,-323 875,-323 875,-359"/>
<g id="a_22_7"><a xlink:href="./co2_params1/calculate_errors.html" xlink:title="&quot;Calculate error coefficients.&quot;">
<text text-anchor="start" x="777.5" y="-336.8" font-family="Times,serif" font-size="14.00">calculate_errors</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30803&#45;&gt;30813 -->
<g id="edge17" class="edge">
<title>30803&#45;&gt;30813</title>
<path fill="none" stroke="black" d="M497,-400.91C497,-377.87 497,-341 497,-341 497,-341 756.77,-341 756.77,-341"/>
<polygon fill="black" stroke="black" points="756.77,-344.5 766.77,-341 756.77,-337.5 756.77,-344.5"/>
</g>
<!-- 30805 -->
<g id="14" class="node">
<title>30805</title>
<g id="a_14"><a xlink:title="&quot;Calibration results.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M538,-593C538,-593 506,-593 506,-593 500,-593 494,-587 494,-581 494,-581 494,-569 494,-569 494,-563 500,-557 506,-557 506,-557 538,-557 538,-557 544,-557 550,-563 550,-569 550,-569 550,-581 550,-581 550,-587 544,-593 538,-593"/>
<text text-anchor="start" x="504" y="-570.8" font-family="Times,serif" font-size="14.00">results</text>
</a>
</g>
</g>
<!-- 30804&#45;&gt;30805 -->
<g id="edge18" class="edge">
<title>30804&#45;&gt;30805</title>
<path fill="none" stroke="black" d="M522,-634.91C522,-634.91 522,-603.26 522,-603.26"/>
<polygon fill="black" stroke="black" points="525.5,-603.26 522,-593.26 518.5,-603.26 525.5,-603.26"/>
</g>
<!-- 30805&#45;&gt;30807 -->
<g id="edge19" class="edge">
<title>30805&#45;&gt;30807</title>
<path fill="none" stroke="black" d="M541.5,-556.97C541.5,-531.49 541.5,-488 541.5,-488 541.5,-488 542.1,-488 542.1,-488"/>
<polygon fill="black" stroke="black" points="537.54,-491.5 547.54,-488 537.54,-484.5 537.54,-491.5"/>
</g>
<!-- 30806 -->
<g id="15" class="node">
<title>30806</title>
<g id="a_15"><a xlink:title="&quot;Output keys.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M824,-599C824,-599 580,-599 580,-599 574,-599 568,-593 568,-587 568,-587 568,-563 568,-563 568,-557 574,-551 580,-551 580,-551 824,-551 824,-551 830,-551 836,-557 836,-563 836,-563 836,-587 836,-587 836,-593 830,-599 824,-599"/>
<text text-anchor="start" x="682" y="-581.8" font-family="Times,serif" font-size="14.00">outputs</text>
<polygon fill="none" stroke="black" points="576,-555 576,-576 620,-576 620,-555 576,-555"/>
<text text-anchor="start" x="579" y="-561.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="620,-555 620,-576 828,-576 828,-555 620,-555"/>
<text text-anchor="start" x="623" y="-561.8" font-family="Times,serif" font-size="14.00">[&#39;co2_emissions&#39;, &#39;calibration_status&#39;]</text>
</a>
</g>
</g>
<!-- 30806&#45;&gt;30807 -->
<g id="edge20" class="edge">
<title>30806&#45;&gt;30807</title>
<path fill="none" stroke="black" d="M617,-550.75C617,-550.75 617,-525.29 617,-525.29"/>
<polygon fill="black" stroke="black" points="620.5,-525.29 617,-515.29 613.5,-525.29 620.5,-525.29"/>
</g>
<!-- 30808 -->
<g id="17" class="node">
<title>30808</title>
<g id="a_17"><a xlink:title="&quot;Prediction results.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M679,-437C679,-437 621,-437 621,-437 615,-437 609,-431 609,-425 609,-425 609,-413 609,-413 609,-407 615,-401 621,-401 621,-401 679,-401 679,-401 685,-401 691,-407 691,-413 691,-413 691,-425 691,-425 691,-431 685,-437 679,-437"/>
<text text-anchor="start" x="619.5" y="-414.8" font-family="Times,serif" font-size="14.00">predictions</text>
</a>
</g>
</g>
<!-- 30807&#45;&gt;30808 -->
<g id="edge21" class="edge">
<title>30807&#45;&gt;30808</title>
<path fill="none" stroke="black" d="M637.5,-478.91C637.5,-478.91 637.5,-447.26 637.5,-447.26"/>
<polygon fill="black" stroke="black" points="641,-447.26 637.5,-437.26 634,-447.26 641,-447.26"/>
</g>
<!-- 30808&#45;&gt;30813 -->
<g id="edge22" class="edge">
<title>30808&#45;&gt;30813</title>
<path fill="none" stroke="black" d="M691.4,-413C736.25,-413 801.5,-413 801.5,-413 801.5,-413 801.5,-369.17 801.5,-369.17"/>
<polygon fill="black" stroke="black" points="805,-369.17 801.5,-359.17 798,-369.17 805,-369.17"/>
</g>
<!-- 30809 -->
<g id="18" class="node">
<title>30809</title>
<g id="a_18"><a xlink:title="&quot;Keys to select.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M263.5,-1199C263.5,-1199 186.5,-1199 186.5,-1199 180.5,-1199 174.5,-1193 174.5,-1187 174.5,-1187 174.5,-1163 174.5,-1163 174.5,-1157 180.5,-1151 186.5,-1151 186.5,-1151 263.5,-1151 263.5,-1151 269.5,-1151 275.5,-1157 275.5,-1163 275.5,-1163 275.5,-1187 275.5,-1187 275.5,-1193 269.5,-1199 263.5,-1199"/>
<text text-anchor="start" x="185" y="-1181.8" font-family="Times,serif" font-size="14.00">metrics_inputs</text>
<polygon fill="none" stroke="black" points="183,-1155 183,-1176 237,-1176 237,-1155 183,-1155"/>
<text text-anchor="start" x="196" y="-1161.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="237,-1155 237,-1176 268,-1176 268,-1155 237,-1155"/>
<text text-anchor="start" x="240" y="-1161.8" font-family="Times,serif" font-size="14.00">{}</text>
</a>
</g>
</g>
<!-- 30809&#45;&gt;30810 -->
<g id="edge23" class="edge">
<title>30809&#45;&gt;30810</title>
<path fill="none" stroke="black" d="M225,-1150.75C225,-1150.75 225,-1125.29 225,-1125.29"/>
<polygon fill="black" stroke="black" points="228.5,-1125.29 225,-1115.29 221.5,-1125.29 228.5,-1125.29"/>
</g>
<!-- 30811 -->
<g id="20" class="node">
<title>30811</title>
<g id="a_20"><a xlink:title="&quot;Kwargs to pass to metric functions.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M794,-959C794,-959 710,-959 710,-959 704,-959 698,-953 698,-947 698,-947 698,-935 698,-935 698,-929 704,-923 710,-923 710,-923 794,-923 794,-923 800,-923 806,-929 806,-935 806,-935 806,-947 806,-947 806,-953 800,-959 794,-959"/>
<text text-anchor="start" x="708.5" y="-936.8" font-family="Times,serif" font-size="14.00">metrics_kwargs</text>
</a>
</g>
</g>
<!-- 30810&#45;&gt;30811 -->
<g id="edge24" class="edge">
<title>30810&#45;&gt;30811</title>
<path fill="none" stroke="black" d="M294.17,-1097C437.14,-1097 752,-1097 752,-1097 752,-1097 752,-969.2 752,-969.2"/>
<polygon fill="black" stroke="black" points="755.5,-969.2 752,-959.2 748.5,-969.2 755.5,-969.2"/>
</g>
<!-- 30811&#45;&gt;30813 -->
<g id="edge25" class="edge">
<title>30811&#45;&gt;30813</title>
<path fill="none" stroke="black" d="M806.17,-941C828.39,-941 849,-941 849,-941 849,-941 849,-369.28 849,-369.28"/>
<polygon fill="black" stroke="black" points="852.5,-369.28 849,-359.28 845.5,-369.28 852.5,-369.28"/>
</g>
<!-- 30812 -->
<g id="21" class="node">
<title>30812</title>
<g id="a_21"><a xlink:title="&quot;Metric functions.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1696,-443C1696,-443 904,-443 904,-443 898,-443 892,-437 892,-431 892,-431 892,-407 892,-407 892,-401 898,-395 904,-395 904,-395 1696,-395 1696,-395 1702,-395 1708,-401 1708,-407 1708,-407 1708,-431 1708,-431 1708,-437 1702,-443 1696,-443"/>
<text text-anchor="start" x="1279.5" y="-425.8" font-family="Times,serif" font-size="14.00">metrics</text>
<polygon fill="none" stroke="black" points="900,-399 900,-420 944,-420 944,-399 900,-399"/>
<text text-anchor="start" x="903" y="-405.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="944,-399 944,-420 1700,-420 1700,-399 944,-399"/>
<text text-anchor="start" x="947" y="-405.8" font-family="Times,serif" font-size="14.00">{&#39;calibration_status&#39;: &lt;function metric_calibration_status at 0x145eaa980&gt;, &#39;identified_co2_emissions&#39;: &lt;function mae at 0x142c0a700&gt;}</text>
</a>
</g>
</g>
<!-- 30812&#45;&gt;30813 -->
<g id="edge26" class="edge">
<title>30812&#45;&gt;30813</title>
<path fill="none" stroke="black" d="M891.76,-425C873.1,-425 862,-425 862,-425 862,-425 862,-369.23 862,-369.23"/>
<polygon fill="black" stroke="black" points="865.5,-369.23 862,-359.23 858.5,-369.23 865.5,-369.23"/>
</g>
<!-- 30814 -->
<g id="23" class="node">
<title>30814</title>
<g id="a_23"><a xlink:title="&quot;Error coefficients.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M836,-281C836,-281 806,-281 806,-281 800,-281 794,-275 794,-269 794,-269 794,-257 794,-257 794,-251 800,-245 806,-245 806,-245 836,-245 836,-245 842,-245 848,-251 848,-257 848,-257 848,-269 848,-269 848,-275 842,-281 836,-281"/>
<text text-anchor="start" x="805" y="-258.8" font-family="Times,serif" font-size="14.00">errors</text>
</a>
</g>
</g>
<!-- 30813&#45;&gt;30814 -->
<g id="edge27" class="edge">
<title>30813&#45;&gt;30814</title>
<path fill="none" stroke="black" d="M821,-322.91C821,-322.91 821,-291.26 821,-291.26"/>
<polygon fill="black" stroke="black" points="824.5,-291.26 821,-281.26 817.5,-291.26 824.5,-291.26"/>
</g>
<!-- 30817 -->
<g id="26" class="node">
<title>30817</title>
<g id="a_26"><a xlink:title="&quot;Calculate calibration statuses.&quot;">
<polygon fill="#eed867" stroke="#eed867" points="1062,-203 890,-203 890,-167 1062,-167 1062,-203"/>
<g id="a_26_8"><a xlink:href="./co2_params1/calculate_calibration_status.html" xlink:title="&quot;Calculate calibration statuses.&quot;">
<text text-anchor="start" x="900.5" y="-180.8" font-family="Times,serif" font-size="14.00">calculate_calibration_status</text>
</a>
</g>
</a>
</g>
</g>
<!-- 30814&#45;&gt;30817 -->
<g id="edge28" class="edge">
<title>30814&#45;&gt;30817</title>
<path fill="none" stroke="black" d="M820.13,-244.91C820.13,-221.87 820.13,-185 820.13,-185 820.13,-185 879.86,-185 879.86,-185"/>
<polygon fill="black" stroke="black" points="879.86,-188.5 889.86,-185 879.86,-181.5 879.86,-188.5"/>
</g>
<!-- 30819 -->
<g id="end" class="node">
<title>30819</title>
<polygon fill="#084368" stroke="#084368" points="877.68,-23.05 879.46,-23.15 881.22,-23.3 882.95,-23.49 884.65,-23.74 886.31,-24.03 887.92,-24.36 889.48,-24.75 890.99,-25.18 892.43,-25.65 893.8,-26.16 895.1,-26.71 896.32,-27.31 897.45,-27.94 898.51,-28.61 899.47,-29.31 900.35,-30.04 901.13,-30.8 901.81,-31.59 902.41,-32.41 902.91,-33.25 903.31,-34.11 903.62,-34.99 903.83,-35.89 903.96,-36.8 903.99,-37.72 903.93,-38.65 903.79,-39.59 903.57,-40.53 903.27,-41.47 902.89,-42.41 902.44,-43.35 901.92,-44.28 901.33,-45.2 900.69,-46.11 899.98,-47.01 899.22,-47.89 898.41,-48.75 897.56,-49.59 896.67,-50.41 895.73,-51.2 894.76,-51.96 893.76,-52.69 892.74,-53.39 891.68,-54.06 890.61,-54.69 889.52,-55.29 888.41,-55.84 887.28,-56.35 886.14,-56.82 884.99,-57.25 883.84,-57.64 882.67,-57.97 881.5,-58.26 880.33,-58.51 879.15,-58.7 877.96,-58.85 876.78,-58.95 875.59,-59 874.41,-59 873.22,-58.95 872.04,-58.85 870.85,-58.7 869.67,-58.51 868.5,-58.26 867.33,-57.97 866.16,-57.64 865.01,-57.25 863.86,-56.82 862.72,-56.35 861.59,-55.84 860.48,-55.29 859.39,-54.69 858.32,-54.06 857.26,-53.39 856.24,-52.69 855.24,-51.96 854.27,-51.2 853.33,-50.41 852.44,-49.59 851.59,-48.75 850.78,-47.89 850.02,-47.01 849.31,-46.11 848.67,-45.2 848.08,-44.28 847.56,-43.35 847.11,-42.41 846.73,-41.47 846.43,-40.53 846.21,-39.59 846.07,-38.65 846.01,-37.72 846.04,-36.8 846.17,-35.89 846.38,-34.99 846.69,-34.11 847.09,-33.25 847.59,-32.41 848.19,-31.59 848.87,-30.8 849.65,-30.04 850.53,-29.31 851.49,-28.61 852.55,-27.94 853.68,-27.31 854.9,-26.71 856.2,-26.16 857.57,-25.65 859.01,-25.18 860.52,-24.75 862.08,-24.36 863.69,-24.03 865.35,-23.74 867.05,-23.49 868.78,-23.3 870.54,-23.15 872.32,-23.05 874.1,-23 875.9,-23 877.68,-23.05"/>
<text text-anchor="middle" x="875" y="-37.3" font-family="Times,serif" font-size="14.00" fill="#ffffff">end</text>
</g>
<!-- 30814&#45;&gt;30819 -->
<g id="edge32" class="edge">
<title>30814&#45;&gt;30819</title>
<path fill="none" stroke="black" d="M848.29,-263C853.31,-263 857,-263 857,-263 857,-263 857,-63.25 857,-63.25"/>
<polygon fill="black" stroke="black" points="860.5,-63.25 857,-53.25 853.5,-63.25 860.5,-63.25"/>
<text text-anchor="start" x="779" y="-194.28" font-family="Times,serif" font-size="14.00">errors &#45;&#45;&gt; end</text>
<polygon fill="none" stroke="black" points="777,-167.48 777,-188.48 831,-188.48 831,-167.48 777,-167.48"/>
<text text-anchor="start" x="793" y="-174.28" font-family="Times,serif" font-size="14.00">out_id</text>
<polygon fill="none" stroke="black" points="831,-167.48 831,-188.48 857,-188.48 857,-167.48 831,-167.48"/>
<text text-anchor="start" x="834" y="-174.28" font-family="Times,serif" font-size="14.00">0</text>
</g>
<!-- 30815 -->
<g id="24" class="node">
<title>30815</title>
<g id="a_24"><a xlink:title="&quot;Upper limits.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1102,-287C1102,-287 878,-287 878,-287 872,-287 866,-281 866,-275 866,-275 866,-251 866,-251 866,-245 872,-239 878,-239 878,-239 1102,-239 1102,-239 1108,-239 1114,-245 1114,-251 1114,-251 1114,-275 1114,-275 1114,-281 1108,-287 1102,-287"/>
<text text-anchor="start" x="966.5" y="-269.8" font-family="Times,serif" font-size="14.00">up_limit</text>
<polygon fill="none" stroke="black" points="874,-243 874,-264 918,-264 918,-243 874,-243"/>
<text text-anchor="start" x="877" y="-249.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="918,-243 918,-264 1106,-264 1106,-243 918,-243"/>
<text text-anchor="start" x="921" y="-249.8" font-family="Times,serif" font-size="14.00">{&#39;identified_co2_emissions&#39;: 0.5}</text>
</a>
</g>
</g>
<!-- 30815&#45;&gt;30817 -->
<g id="edge29" class="edge">
<title>30815&#45;&gt;30817</title>
<path fill="none" stroke="black" d="M976,-238.75C976,-238.75 976,-213.29 976,-213.29"/>
<polygon fill="black" stroke="black" points="979.5,-213.29 976,-203.29 972.5,-213.29 979.5,-213.29"/>
</g>
<!-- 30816 -->
<g id="25" class="node">
<title>30816</title>
<g id="a_25"><a xlink:title="&quot;Lower limits.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1216,-287C1216,-287 1144,-287 1144,-287 1138,-287 1132,-281 1132,-275 1132,-275 1132,-251 1132,-251 1132,-245 1138,-239 1144,-239 1144,-239 1216,-239 1216,-239 1222,-239 1228,-245 1228,-251 1228,-251 1228,-275 1228,-275 1228,-281 1222,-287 1216,-287"/>
<text text-anchor="start" x="1156.5" y="-269.8" font-family="Times,serif" font-size="14.00">dn_limit</text>
<polygon fill="none" stroke="black" points="1140,-243 1140,-264 1184,-264 1184,-243 1140,-243"/>
<text text-anchor="start" x="1143" y="-249.8" font-family="Times,serif" font-size="14.00">default</text>
<polygon fill="none" stroke="black" points="1184,-243 1184,-264 1220,-264 1220,-243 1184,-243"/>
<text text-anchor="start" x="1187" y="-249.8" font-family="Times,serif" font-size="14.00">None</text>
</a>
</g>
</g>
<!-- 30816&#45;&gt;30817 -->
<g id="edge30" class="edge">
<title>30816&#45;&gt;30817</title>
<path fill="none" stroke="black" d="M1180,-238.75C1180,-215.85 1180,-185 1180,-185 1180,-185 1072.22,-185 1072.22,-185"/>
<polygon fill="black" stroke="black" points="1072.22,-181.5 1062.22,-185 1072.22,-188.5 1072.22,-181.5"/>
</g>
<!-- 30818 -->
<g id="27" class="node">
<title>30818</title>
<g id="a_27"><a xlink:title="&quot;Calibration statuses.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M947,-131C947,-131 917,-131 917,-131 911,-131 905,-125 905,-119 905,-119 905,-107 905,-107 905,-101 911,-95 917,-95 917,-95 947,-95 947,-95 953,-95 959,-101 959,-107 959,-107 959,-119 959,-119 959,-125 953,-131 947,-131"/>
<text text-anchor="start" x="916.5" y="-108.8" font-family="Times,serif" font-size="14.00">status</text>
</a>
</g>
</g>
<!-- 30817&#45;&gt;30818 -->
<g id="edge31" class="edge">
<title>30817&#45;&gt;30818</title>
<path fill="none" stroke="black" d="M932,-166.83C932,-166.83 932,-141.41 932,-141.41"/>
<polygon fill="black" stroke="black" points="935.5,-141.41 932,-131.41 928.5,-141.41 935.5,-141.41"/>
</g>
<!-- 30818&#45;&gt;30819 -->
<g id="edge33" class="edge">
<title>30818&#45;&gt;30819</title>
<path fill="none" stroke="black" d="M904.67,-113C900.13,-113 896.87,-113 896.87,-113 896.87,-113 896.87,-60.41 896.87,-60.41"/>
<polygon fill="black" stroke="black" points="900.37,-60.41 896.87,-50.41 893.37,-60.41 900.37,-60.41"/>
<text text-anchor="start" x="818.87" y="-117.4" font-family="Times,serif" font-size="14.00">status &#45;&#45;&gt; end</text>
<polygon fill="none" stroke="black" points="816.87,-90.6 816.87,-111.6 870.87,-111.6 870.87,-90.6 816.87,-90.6"/>
<text text-anchor="start" x="832.87" y="-97.4" font-family="Times,serif" font-size="14.00">out_id</text>
<polygon fill="none" stroke="black" points="870.87,-90.6 870.87,-111.6 896.87,-111.6 896.87,-90.6 870.87,-90.6"/>
<text text-anchor="start" x="873.87" y="-97.4" font-family="Times,serif" font-size="14.00">1</text>
</g>
</g>
</svg>
</div>

<script>
    var id, hist = {i: -1, list: []}, isFull;

    function FullScreen() {
        var el = document.getElementById("btnFullScreen");
        if (isFull) {
            closeFullscreen();
            isFull = false;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-compress", "sh-ico-expand"));
        } else {
            openFullscreen();
            isFull = true;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-expand", "sh-ico-compress"));
        }
    }

    function getURLParam(name) {
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results == null) {
            return null;
        } else {
            return decodeURI(results[1]) || 0;
        }
    }

    function setURLParam(key, value) {
        let uri = window.location.href,
            re = new RegExp("([?&])" + key + "=.*?(&|$)", "i"),
            separator = uri.indexOf('?') !== -1 ? "&" : "?";
        if (uri.match(re)) {
            return uri.replace(re, '$1' + key + "=" + encodeURI(value) + '$2');
        } else {
            return uri + separator + key + "=" + encodeURI(value);
        }
    }

    function iframeLoad(e) {
        e.preventDefault();
        document.getElementById("iframe").contentWindow.postMessage({
            id: id,
            action: 'id'
        }, '*');
    }

    function onBack(e) {
        e.preventDefault();
        if (hist.i > 0) {
            hist.i--;
            setIframe(hist.list[hist.i])
        }
    }

    function onForward(e) {
        e.preventDefault();
        if (hist.i + 1 < hist.list.length) {
            hist.i++;
            setIframe(hist.list[hist.i])
        }
    }

    function setIframe(src) {
        document.getElementById("iframe").src = src
    }

    function closeFullscreen() {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { /* Firefox */
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { /* IE/Edge */
            document.msExitFullscreen();
        }
    }

    function isFullscreenSupported() {
        let elem = document.body;
        return elem.requestFullscreen || elem.mozRequestFullScreen || elem.webkitRequestFullscreen || elem.msRequestFullscreen
    }

    function openFullscreen() {
        let elem = document.body;
        if (elem.requestFullscreen) {
            elem.requestFullscreen()
        } else if (elem.mozRequestFullScreen) { /* Firefox */
            elem.mozRequestFullScreen()
        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
            elem.webkitRequestFullscreen()
        } else if (elem.msRequestFullscreen) { /* IE/Edge */
            elem.msRequestFullscreen()
        }
    }

    function _onload() {
        if (getURLParam("controls") === "true") {
            document.getElementById("iframe").onload = iframeLoad;
            document.getElementById("index").style.display = "flex";
            if (isFullscreenSupported())
                document.getElementById("btnFullScreen").style.display = "inline-block";
            id = Date.now();
            setIframe(setURLParam("controls", "false"));
            window.addEventListener('message', function (event) {
                if (event.data.id === id) {
                    if (event.data.action === 'url') {
                        let href = event.data.url;
                        if (hist.list[hist.i] !== href) {
                            hist.i++;
                            hist.list = hist.list.slice(0, hist.i);
                            hist.list.push(href);
                        }
                        if (hist.i > 0) {
                            document.getElementById("btnBack").style.opacity = "1"
                        } else {
                            document.getElementById("btnBack").style.opacity = "0.5"
                        }
                        if (hist.i + 1 < hist.list.length) {
                            document.getElementById("btnForward").style.opacity = "1"
                        } else {
                            document.getElementById("btnForward").style.opacity = "0.5"
                        }
                    }
                }
            });
        } else {
            refreshIntervalId = setInterval(sendUrl, 100);
            setTimeout(function () {
                clearInterval(refreshIntervalId)
            }, 30000);
            document.getElementById("content").style.display = "block";
            var el = document.getElementById(getURLParam("id") || 'graph0');
            if (el)
                if (el.getAttribute('class').indexOf('node') !== -1) {
                    var bound = el.getBoundingClientRect();
                    window.scrollTo((bound.left + bound.right) / 2 - document.body.offsetWidth / 2, (bound.top + bound.bottom) / 2 - document.body.offsetHeight / 2);
                    el.setAttribute('class', el.getAttribute('class') + " on");
                } else if (el.getAttribute('class').indexOf('graph') !== -1) {
                    el.parentNode.setAttribute('class', el.parentNode.getAttribute('class') + " on");
                }
        }
        let parser = new DOMParser();
        for (let e of document.getElementsByTagName('viz')) {
            let out, digraph = e.getAttribute('digraph'), options = {
                engine: e.getAttribute('engine') || 'dot',
                format: "svg"
            };
            try {
                out = parser.parseFromString(Viz(digraph, options), "image/svg+xml").documentElement;
            } catch (e) {
                out = document.createElement('div')
                out.setAttribute('class', 'viz error')
                out.innerHTML = e.message === undefined ? "An error occurred while processing the graph input." : e.message;
            }
            e.appendChild(out);
        }
    }

    function getParentOrigin() {
        try {
            return parent.window.origin || "null";
        } catch (exception) {
            return "null"
        }
    }

    function sendUrl() {
        if (parent_iframe_id !== null && window.location.href !== url) {
            url = window.location.href;
            parent.postMessage({
                id: parent_iframe_id,
                url: url,
                action: 'url'
            }, '*');
            clearInterval(refreshIntervalId);
        }
    }

    var parent_iframe_id = null, url = null, refreshIntervalId;
    window.addEventListener('message', function (event) {
        var origin = event.origin === 'file:' ? 'null' : (event.origin || 'null');
        if (origin === getParentOrigin())
            if (parent_iframe_id === null && event.data.action === 'id') {
                parent_iframe_id = event.data.id
            }
    });
</script>
</body>
</html>