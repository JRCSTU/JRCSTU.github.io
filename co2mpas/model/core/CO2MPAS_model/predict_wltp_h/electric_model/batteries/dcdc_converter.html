<!DOCTYPE html>
<html lang="en">
<head>
    <style type="text/css">
        svg.on {
            border: 4px solid #008CFF;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child path:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        .node.on g:first-of-type a:first-child polygon:first-child {
            stroke: #008CFF;
            stroke-width: 4;
            animation: blink-animation 1s linear;
            -webkit-animation: blink-animation 1s linear;
        }

        @keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        @-webkit-keyframes blink-animation {
            to {
                stroke-width: 0;
                border-width: 0;
            }
        }

        .controls {
            background: #343a40;
            width: 100%;
        }

        .controls button {
            font-size: 18px;
            border: none;
            outline: none;
            background-color: transparent;
            color: #BBBBBB;
            cursor: pointer;
            border-radius: 0.25rem;
        }

        .controls button:hover {
            background-color: #555;
        }

        body {
            height: 100vh;
            width: 100vw;
            margin: 0;
        }

        #iframe {
            flex-grow: 1;
        }

        #index {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .sh-ico {
            display: inline-block;
            width: 18px;
            height: 18px;
            margin-left: 8px;
            padding-top: 3px;
            vertical-align: middle;
            content: "";
            background: no-repeat center center;
            background-size: 100% 100%;
        }

        .sh-ico-compress {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3'/%3E%3C/svg%3E");
        }

        .sh-ico-expand {
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg fill='none' height='24' stroke='%23BBBBBB' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3'/%3E%3C/svg%3E");
        }
    </style>
    <!-- Required Javascript -->
    
    
</head>
<body onload="_onload()">
<div id="index" style="display: none; height: 100%">
    <div class="controls">
        <button id="btnFullScreen" class="sh-ico sh-ico-expand"
                style="display: none"
                onclick="FullScreen()"
                title="Enter/Exit Full Screen">
        </button>
        <button id="btnBack" onclick="onBack(event)" title="Go back">
            &lt;
        </button>
        <button id="btnForward" onclick="onForward(event)" title="Go forward">
            &gt;
        </button>
    </div>
    <iframe id="iframe" allowfullscreen frameborder="0"></iframe>
</div>
<div id="content" style="background: white; display: none"> <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 6.0.2 (0)
 -->
<!-- Title: dmap Pages: 1 -->
<svg width="1880pt" height="871pt"
 viewBox="0.00 0.00 1880.00 871.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 867)">
<title>dmap</title>
<text text-anchor="middle" x="936" y="-7.8" font-family="Times,serif" font-size="14.00">dmap</text>
<!-- 67007 -->
<g id="0" class="node">
<title>67007</title>
<g id="a_0"><a xlink:title="&quot;Calculate DC/DC converter electric power demand [kW].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="754,-779 452,-779 452,-743 754,-743 754,-779"/>
<g id="a_0_0"><a xlink:href="./dcdc_converter/calculate_dcdc_converter_electric_powers_demand.html" xlink:title="&quot;Calculate DC/DC converter electric power demand [kW].&quot;">
<text text-anchor="start" x="462.5" y="-756.8" font-family="Times,serif" font-size="14.00">calculate_dcdc_converter_electric_powers_demand</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67010 -->
<g id="3" class="node">
<title>67010</title>
<g id="a_3"><a xlink:title="&quot;DC/DC converter electric power demand [kW].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M766,-707C766,-707 440,-707 440,-707 434,-707 428,-701 428,-695 428,-695 428,-650 428,-650 428,-644 434,-638 440,-638 440,-638 766,-638 766,-638 772,-638 778,-644 778,-650 778,-650 778,-695 778,-695 778,-701 772,-707 766,-707"/>
<text text-anchor="start" x="490" y="-689.3" font-family="Times,serif" font-size="14.00">dcdc_converter_electric_powers_demand</text>
<polygon fill="none" stroke="black" points="436,-662.5 436,-683.5 529,-683.5 529,-662.5 436,-662.5"/>
<text text-anchor="start" x="439" y="-669.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_3_1"><a xlink:href="./../batteries.html?id=36" xlink:title="&quot;DC/DC converter electric power demand [kW].&quot;">
<polygon fill="none" stroke="black" points="529,-662.5 529,-683.5 770,-683.5 770,-662.5 529,-662.5"/>
<text text-anchor="start" x="532" y="-669.3" font-family="Times,serif" font-size="14.00">(dcdc_converter_electric_powers_demand)</text>
</a>
</g>
<polygon fill="none" stroke="black" points="436,-641.5 436,-662.5 529,-662.5 529,-641.5 436,-641.5"/>
<text text-anchor="start" x="446" y="-648.3" font-family="Times,serif" font-size="14.00">remote child 1</text>
<g id="a_3_2"><a xlink:href="./../batteries.html?id=36" xlink:title="&quot;DC/DC converter electric power demand [kW].&quot;">
<polygon fill="none" stroke="black" points="529,-641.5 529,-662.5 770,-662.5 770,-641.5 529,-641.5"/>
<text text-anchor="start" x="532" y="-648.3" font-family="Times,serif" font-size="14.00">(dcdc_converter_electric_powers_demand)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67007&#45;&gt;67010 -->
<g id="edge1" class="edge">
<title>67007&#45;&gt;67010</title>
<path fill="none" stroke="black" d="M603,-742.66C603,-742.66 603,-717.27 603,-717.27"/>
<polygon fill="black" stroke="black" points="606.5,-717.27 603,-707.27 599.5,-717.27 606.5,-717.27"/>
</g>
<!-- 67008 -->
<g id="1" class="node">
<title>67008</title>
<g id="a_1"><a xlink:title="&quot;DC/DC converter electric power [kW].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M843,-530C843,-530 567,-530 567,-530 561,-530 555,-524 555,-518 555,-518 555,-473 555,-473 555,-467 561,-461 567,-461 567,-461 843,-461 843,-461 849,-461 855,-467 855,-473 855,-473 855,-518 855,-518 855,-524 849,-530 843,-530"/>
<text text-anchor="start" x="617" y="-512.3" font-family="Times,serif" font-size="14.00">dcdc_converter_electric_powers</text>
<polygon fill="none" stroke="black" points="563,-485.5 563,-506.5 656,-506.5 656,-485.5 563,-485.5"/>
<text text-anchor="start" x="566" y="-492.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_1_3"><a xlink:href="./../batteries.html?id=5" xlink:title="&quot;DC/DC converter electric power [kW].&quot;">
<polygon fill="none" stroke="black" points="656,-485.5 656,-506.5 847,-506.5 847,-485.5 656,-485.5"/>
<text text-anchor="start" x="659" y="-492.3" font-family="Times,serif" font-size="14.00">(dcdc_converter_electric_powers)</text>
</a>
</g>
<polygon fill="none" stroke="black" points="563,-464.5 563,-485.5 656,-485.5 656,-464.5 563,-464.5"/>
<text text-anchor="start" x="573" y="-471.3" font-family="Times,serif" font-size="14.00">remote child 1</text>
<g id="a_1_4"><a xlink:href="./../batteries.html?id=5" xlink:title="&quot;DC/DC converter electric power [kW].&quot;">
<polygon fill="none" stroke="black" points="656,-464.5 656,-485.5 847,-485.5 847,-464.5 656,-464.5"/>
<text text-anchor="start" x="659" y="-471.3" font-family="Times,serif" font-size="14.00">(dcdc_converter_electric_powers)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67008&#45;&gt;67007 -->
<g id="edge2" class="edge">
<title>67008&#45;&gt;67007</title>
<path fill="none" stroke="black" d="M816.5,-530.21C816.5,-602.18 816.5,-761 816.5,-761 816.5,-761 764.17,-761 764.17,-761"/>
<polygon fill="black" stroke="black" points="764.17,-757.5 754.17,-761 764.17,-764.5 764.17,-757.5"/>
</g>
<!-- 67015 -->
<g id="8" class="node">
<title>67015</title>
<g id="a_8"><a xlink:title="&quot;Calculate DC/DC converter current [A].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="812,-419 602,-419 602,-383 812,-383 812,-419"/>
<g id="a_8_5"><a xlink:href="./dcdc_converter/calculate_dcdc_converter_currents.html" xlink:title="&quot;Calculate DC/DC converter current [A].&quot;">
<text text-anchor="start" x="612.5" y="-396.8" font-family="Times,serif" font-size="14.00">calculate_dcdc_converter_currents</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67008&#45;&gt;67015 -->
<g id="edge3" class="edge">
<title>67008&#45;&gt;67015</title>
<path fill="none" stroke="black" d="M707,-460.85C707,-460.85 707,-429.2 707,-429.2"/>
<polygon fill="black" stroke="black" points="710.5,-429.2 707,-419.2 703.5,-429.2 710.5,-429.2"/>
</g>
<!-- 67009 -->
<g id="2" class="node">
<title>67009</title>
<g id="a_2"><a xlink:title="&quot;DC/DC converter efficiency [&#45;].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M623.5,-863C623.5,-863 378.5,-863 378.5,-863 372.5,-863 366.5,-857 366.5,-851 366.5,-851 366.5,-827 366.5,-827 366.5,-821 372.5,-815 378.5,-815 378.5,-815 623.5,-815 623.5,-815 629.5,-815 635.5,-821 635.5,-827 635.5,-827 635.5,-851 635.5,-851 635.5,-857 629.5,-863 623.5,-863"/>
<text text-anchor="start" x="429" y="-845.8" font-family="Times,serif" font-size="14.00">dcdc_converter_efficiency</text>
<polygon fill="none" stroke="black" points="375,-819 375,-840 468,-840 468,-819 375,-819"/>
<text text-anchor="start" x="378" y="-825.8" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_2_6"><a xlink:href="./../batteries.html?id=35" xlink:title="&quot;DC/DC converter efficiency [&#45;].&quot;">
<polygon fill="none" stroke="black" points="468,-819 468,-840 628,-840 628,-819 468,-819"/>
<text text-anchor="start" x="471" y="-825.8" font-family="Times,serif" font-size="14.00">(dcdc_converter_efficiency)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67009&#45;&gt;67007 -->
<g id="edge4" class="edge">
<title>67009&#45;&gt;67007</title>
<path fill="none" stroke="black" d="M543.75,-814.75C543.75,-814.75 543.75,-789.29 543.75,-789.29"/>
<polygon fill="black" stroke="black" points="547.25,-789.29 543.75,-779.29 540.25,-789.29 547.25,-789.29"/>
</g>
<!-- 67011 -->
<g id="4" class="node">
<title>67011</title>
<g id="a_4"><a xlink:title="&quot;Calculate DC/DC converter electric power [kW].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="739,-602 467,-602 467,-566 739,-566 739,-602"/>
<g id="a_4_7"><a xlink:href="./dcdc_converter/calculate_dcdc_converter_electric_powers_v1.html" xlink:title="&quot;Calculate DC/DC converter electric power [kW].&quot;">
<text text-anchor="start" x="477.5" y="-579.8" font-family="Times,serif" font-size="14.00">calculate_dcdc_converter_electric_powers_v1</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67009&#45;&gt;67011 -->
<g id="edge5" class="edge">
<title>67009&#45;&gt;67011</title>
<path fill="none" stroke="black" d="M397.25,-814.55C397.25,-750.73 397.25,-584 397.25,-584 397.25,-584 456.91,-584 456.91,-584"/>
<polygon fill="black" stroke="black" points="456.91,-587.5 466.91,-584 456.91,-580.5 456.91,-587.5"/>
</g>
<!-- 67010&#45;&gt;67011 -->
<g id="edge6" class="edge">
<title>67010&#45;&gt;67011</title>
<path fill="none" stroke="black" d="M603,-637.78C603,-637.78 603,-612.08 603,-612.08"/>
<polygon fill="black" stroke="black" points="606.5,-612.08 603,-602.08 599.5,-612.08 606.5,-612.08"/>
</g>
<!-- 67011&#45;&gt;67008 -->
<g id="edge7" class="edge">
<title>67011&#45;&gt;67008</title>
<path fill="none" stroke="black" d="M647,-565.66C647,-565.66 647,-540.27 647,-540.27"/>
<polygon fill="black" stroke="black" points="650.5,-540.27 647,-530.27 643.5,-540.27 650.5,-540.27"/>
</g>
<!-- 67012 -->
<g id="5" class="node">
<title>67012</title>
<g id="a_5"><a xlink:title="&quot;Calculates DC/DC converter electric powers [kW].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="789,-236 537,-236 537,-200 789,-200 789,-236"/>
<g id="a_5_8"><a xlink:href="./dcdc_converter/calculate_dcdc_converter_electric_powers.html" xlink:title="&quot;Calculates DC/DC converter electric powers [kW].&quot;">
<text text-anchor="start" x="547.5" y="-213.8" font-family="Times,serif" font-size="14.00">calculate_dcdc_converter_electric_powers</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67012&#45;&gt;67008 -->
<g id="edge8" class="edge">
<title>67012&#45;&gt;67008</title>
<path fill="none" stroke="black" d="M550,-236.24C550,-293.51 550,-466 550,-466 550,-466 550.48,-466 550.48,-466"/>
<polygon fill="black" stroke="black" points="544.81,-469.5 554.81,-466 544.81,-462.5 544.81,-469.5"/>
</g>
<!-- 67013 -->
<g id="6" class="node">
<title>67013</title>
<g id="a_6"><a xlink:title="&quot;DC/DC converter currents [A].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M800,-341C800,-341 566,-341 566,-341 560,-341 554,-335 554,-329 554,-329 554,-284 554,-284 554,-278 560,-272 566,-272 566,-272 800,-272 800,-272 806,-272 812,-278 812,-284 812,-284 812,-329 812,-329 812,-335 806,-341 800,-341"/>
<text text-anchor="start" x="616" y="-323.3" font-family="Times,serif" font-size="14.00">dcdc_converter_currents</text>
<polygon fill="none" stroke="black" points="562,-296.5 562,-317.5 655,-317.5 655,-296.5 562,-296.5"/>
<text text-anchor="start" x="565" y="-303.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_6_9"><a xlink:href="./../batteries.html?id=67" xlink:title="&quot;DC/DC converter currents [A].&quot;">
<polygon fill="none" stroke="black" points="655,-296.5 655,-317.5 804,-317.5 804,-296.5 655,-296.5"/>
<text text-anchor="start" x="658" y="-303.3" font-family="Times,serif" font-size="14.00">(dcdc_converter_currents)</text>
</a>
</g>
<polygon fill="none" stroke="black" points="562,-275.5 562,-296.5 655,-296.5 655,-275.5 562,-275.5"/>
<text text-anchor="start" x="572" y="-282.3" font-family="Times,serif" font-size="14.00">remote child 1</text>
<g id="a_6_10"><a xlink:href="./../batteries.html?id=67" xlink:title="&quot;DC/DC converter currents [A].&quot;">
<polygon fill="none" stroke="black" points="655,-275.5 655,-296.5 804,-296.5 804,-275.5 655,-275.5"/>
<text text-anchor="start" x="658" y="-282.3" font-family="Times,serif" font-size="14.00">(dcdc_converter_currents)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67013&#45;&gt;67012 -->
<g id="edge9" class="edge">
<title>67013&#45;&gt;67012</title>
<path fill="none" stroke="black" d="M632.33,-271.78C632.33,-271.78 632.33,-246.08 632.33,-246.08"/>
<polygon fill="black" stroke="black" points="635.83,-246.08 632.33,-236.08 628.83,-246.08 635.83,-246.08"/>
</g>
<!-- 67019 -->
<g id="12" class="node">
<title>67019</title>
<g id="a_12"><a xlink:title="&quot;Calibrates an DC/DC current model that predicts DC/DC current [A].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="1031,-236 845,-236 845,-200 1031,-200 1031,-236"/>
<g id="a_12_11"><a xlink:href="./dcdc_converter/calibrate_dcdc_current_model.html" xlink:title="&quot;Calibrates an DC/DC current model that predicts DC/DC current [A].&quot;">
<text text-anchor="start" x="855" y="-213.8" font-family="Times,serif" font-size="14.00">calibrate_dcdc_current_model</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67013&#45;&gt;67019 -->
<g id="edge10" class="edge">
<title>67013&#45;&gt;67019</title>
<path fill="none" stroke="black" d="M812.05,-277C833.18,-277 848.33,-277 848.33,-277 848.33,-277 848.33,-246.02 848.33,-246.02"/>
<polygon fill="black" stroke="black" points="851.83,-246.02 848.33,-236.02 844.83,-246.02 851.83,-246.02"/>
</g>
<!-- 67014 -->
<g id="7" class="node">
<title>67014</title>
<g id="a_7"><a xlink:title="&quot;Service battery nominal voltage [V].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1166.5,-519.5C1166.5,-519.5 885.5,-519.5 885.5,-519.5 879.5,-519.5 873.5,-513.5 873.5,-507.5 873.5,-507.5 873.5,-483.5 873.5,-483.5 873.5,-477.5 879.5,-471.5 885.5,-471.5 885.5,-471.5 1166.5,-471.5 1166.5,-471.5 1172.5,-471.5 1178.5,-477.5 1178.5,-483.5 1178.5,-483.5 1178.5,-507.5 1178.5,-507.5 1178.5,-513.5 1172.5,-519.5 1166.5,-519.5"/>
<text text-anchor="start" x="936" y="-502.3" font-family="Times,serif" font-size="14.00">service_battery_nominal_voltage</text>
<polygon fill="none" stroke="black" points="882,-475.5 882,-496.5 975,-496.5 975,-475.5 882,-475.5"/>
<text text-anchor="start" x="885" y="-482.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_7_12"><a xlink:href="./../batteries.html?id=23" xlink:title="&quot;Service battery nominal voltage [V].&quot;">
<polygon fill="none" stroke="black" points="975,-475.5 975,-496.5 1171,-496.5 1171,-475.5 975,-475.5"/>
<text text-anchor="start" x="978" y="-482.3" font-family="Times,serif" font-size="14.00">(service_battery_nominal_voltage)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67014&#45;&gt;67012 -->
<g id="edge11" class="edge">
<title>67014&#45;&gt;67012</title>
<path fill="none" stroke="black" d="M895.5,-471.46C895.5,-410.38 895.5,-254 895.5,-254 895.5,-254 710.67,-254 710.67,-254 710.67,-254 710.67,-246.42 710.67,-246.42"/>
<polygon fill="black" stroke="black" points="714.17,-246.42 710.67,-236.42 707.17,-246.42 714.17,-246.42"/>
</g>
<!-- 67014&#45;&gt;67015 -->
<g id="edge12" class="edge">
<title>67014&#45;&gt;67015</title>
<path fill="none" stroke="black" d="M884.5,-471.16C884.5,-443.16 884.5,-401 884.5,-401 884.5,-401 822.05,-401 822.05,-401"/>
<polygon fill="black" stroke="black" points="822.05,-397.5 812.05,-401 822.05,-404.5 822.05,-397.5"/>
</g>
<!-- 67015&#45;&gt;67013 -->
<g id="edge13" class="edge">
<title>67015&#45;&gt;67013</title>
<path fill="none" stroke="black" d="M707,-382.78C707,-382.78 707,-351.12 707,-351.12"/>
<polygon fill="black" stroke="black" points="710.5,-351.12 707,-341.12 703.5,-351.12 710.5,-351.12"/>
</g>
<!-- 67016 -->
<g id="9" class="node">
<title>67016</title>
<g id="a_9"><a xlink:title="&quot;Defines an DC/DC converter current model that predicts its current [A].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="219,-236 45,-236 45,-200 219,-200 219,-236"/>
<g id="a_9_13"><a xlink:href="./dcdc_converter/define_dcdc_current_model.html" xlink:title="&quot;Defines an DC/DC converter current model that predicts its current [A].&quot;">
<text text-anchor="start" x="55.5" y="-213.8" font-family="Times,serif" font-size="14.00">define_dcdc_current_model</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67018 -->
<g id="11" class="node">
<title>67018</title>
<g id="a_11"><a xlink:title="&quot;DC/DC converter current model.&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M242,-164C242,-164 30,-164 30,-164 24,-164 18,-158 18,-152 18,-152 18,-107 18,-107 18,-101 24,-95 30,-95 30,-95 242,-95 242,-95 248,-95 254,-101 254,-107 254,-107 254,-152 254,-152 254,-158 248,-164 242,-164"/>
<text text-anchor="start" x="80" y="-146.3" font-family="Times,serif" font-size="14.00">dcdc_current_model</text>
<polygon fill="none" stroke="black" points="26,-119.5 26,-140.5 119,-140.5 119,-119.5 26,-119.5"/>
<text text-anchor="start" x="29" y="-126.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_11_14"><a xlink:href="./../batteries.html?id=6" xlink:title="&quot;DC/DC converter current model.&quot;">
<polygon fill="none" stroke="black" points="119,-119.5 119,-140.5 246,-140.5 246,-119.5 119,-119.5"/>
<text text-anchor="start" x="122" y="-126.3" font-family="Times,serif" font-size="14.00">(dcdc_current_model)</text>
</a>
</g>
<polygon fill="none" stroke="black" points="26,-98.5 26,-119.5 119,-119.5 119,-98.5 26,-98.5"/>
<text text-anchor="start" x="36" y="-105.3" font-family="Times,serif" font-size="14.00">remote child 1</text>
<g id="a_11_15"><a xlink:href="./../batteries.html?id=6" xlink:title="&quot;DC/DC converter current model.&quot;">
<polygon fill="none" stroke="black" points="119,-98.5 119,-119.5 246,-119.5 246,-98.5 119,-98.5"/>
<text text-anchor="start" x="122" y="-105.3" font-family="Times,serif" font-size="14.00">(dcdc_current_model)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67016&#45;&gt;67018 -->
<g id="edge14" class="edge">
<title>67016&#45;&gt;67018</title>
<path fill="none" stroke="black" d="M132,-199.66C132,-199.66 132,-174.27 132,-174.27"/>
<polygon fill="black" stroke="black" points="135.5,-174.27 132,-164.27 128.5,-174.27 135.5,-174.27"/>
</g>
<!-- 67017 -->
<g id="10" class="node">
<title>67017</title>
<g id="a_10"><a xlink:title="&quot;Mean charging currents of the DC/DC converter (for negative and positive &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;power)[A].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M242,-330.5C242,-330.5 12,-330.5 12,-330.5 6,-330.5 0,-324.5 0,-318.5 0,-318.5 0,-294.5 0,-294.5 0,-288.5 6,-282.5 12,-282.5 12,-282.5 242,-282.5 242,-282.5 248,-282.5 254,-288.5 254,-294.5 254,-294.5 254,-318.5 254,-318.5 254,-324.5 248,-330.5 242,-330.5"/>
<text text-anchor="start" x="62" y="-313.3" font-family="Times,serif" font-size="14.00">dcdc_charging_currents</text>
<polygon fill="none" stroke="black" points="8,-286.5 8,-307.5 101,-307.5 101,-286.5 8,-286.5"/>
<text text-anchor="start" x="11" y="-293.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_10_16"><a xlink:href="./../batteries.html?id=66" xlink:title="&quot;Mean charging currents of the DC/DC converter (for negative and positive &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;power)[A].&quot;">
<polygon fill="none" stroke="black" points="101,-286.5 101,-307.5 246,-307.5 246,-286.5 101,-286.5"/>
<text text-anchor="start" x="104" y="-293.3" font-family="Times,serif" font-size="14.00">(dcdc_charging_currents)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67017&#45;&gt;67016 -->
<g id="edge15" class="edge">
<title>67017&#45;&gt;67016</title>
<path fill="none" stroke="black" d="M132,-282.32C132,-282.32 132,-246.26 132,-246.26"/>
<polygon fill="black" stroke="black" points="135.5,-246.26 132,-236.26 128.5,-246.26 135.5,-246.26"/>
</g>
<!-- 67024 -->
<g id="17" class="node">
<title>67024</title>
<g id="a_17"><a xlink:title="&quot;Predict DC/DC converter current [A].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="1177,-59 979,-59 979,-23 1177,-23 1177,-59"/>
<g id="a_17_17"><a xlink:href="./dcdc_converter/predict_dcdc_converter_currents.html" xlink:title="&quot;Predict DC/DC converter current [A].&quot;">
<text text-anchor="start" x="989" y="-36.8" font-family="Times,serif" font-size="14.00">predict_dcdc_converter_currents</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67018&#45;&gt;67024 -->
<g id="edge16" class="edge">
<title>67018&#45;&gt;67024</title>
<path fill="none" stroke="black" d="M254.1,-118C491.7,-118 1005,-118 1005,-118 1005,-118 1005,-69.25 1005,-69.25"/>
<polygon fill="black" stroke="black" points="1008.5,-69.25 1005,-59.25 1001.5,-69.25 1008.5,-69.25"/>
</g>
<!-- 67019&#45;&gt;67018 -->
<g id="edge17" class="edge">
<title>67019&#45;&gt;67018</title>
<path fill="none" stroke="black" d="M912,-199.75C912,-176.98 912,-141 912,-141 912,-141 264.28,-141 264.28,-141"/>
<polygon fill="black" stroke="black" points="264.28,-137.5 254.28,-141 264.28,-144.5 264.28,-137.5"/>
</g>
<!-- 67020 -->
<g id="13" class="node">
<title>67020</title>
<g id="a_13"><a xlink:title="&quot;Time vector [s].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M330.5,-519.5C330.5,-519.5 199.5,-519.5 199.5,-519.5 193.5,-519.5 187.5,-513.5 187.5,-507.5 187.5,-507.5 187.5,-483.5 187.5,-483.5 187.5,-477.5 193.5,-471.5 199.5,-471.5 199.5,-471.5 330.5,-471.5 330.5,-471.5 336.5,-471.5 342.5,-477.5 342.5,-483.5 342.5,-483.5 342.5,-507.5 342.5,-507.5 342.5,-513.5 336.5,-519.5 330.5,-519.5"/>
<text text-anchor="start" x="250" y="-502.3" font-family="Times,serif" font-size="14.00">times</text>
<polygon fill="none" stroke="black" points="196,-475.5 196,-496.5 289,-496.5 289,-475.5 196,-475.5"/>
<text text-anchor="start" x="199" y="-482.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_13_18"><a xlink:href="./../batteries.html?id=30" xlink:title="&quot;Time vector [s].&quot;">
<polygon fill="none" stroke="black" points="289,-475.5 289,-496.5 335,-496.5 335,-475.5 289,-475.5"/>
<text text-anchor="start" x="292" y="-482.3" font-family="Times,serif" font-size="14.00">(times)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67020&#45;&gt;67019 -->
<g id="edge18" class="edge">
<title>67020&#45;&gt;67019</title>
<path fill="none" stroke="black" d="M313,-471.4C313,-457.6 313,-443 313,-443 313,-443 851.67,-443 851.67,-443 851.67,-443 851.67,-246.03 851.67,-246.03"/>
<polygon fill="black" stroke="black" points="855.17,-246.03 851.67,-236.03 848.17,-246.03 855.17,-246.03"/>
</g>
<!-- 67020&#45;&gt;67024 -->
<g id="edge19" class="edge">
<title>67020&#45;&gt;67024</title>
<path fill="none" stroke="black" d="M283.5,-471.39C283.5,-376.64 283.5,-35 283.5,-35 283.5,-35 968.98,-35 968.98,-35"/>
<polygon fill="black" stroke="black" points="968.98,-38.5 978.98,-35 968.98,-31.5 968.98,-38.5"/>
</g>
<!-- 67025 -->
<g id="18" class="node">
<title>67025</title>
<g id="a_18"><a xlink:title="&quot;Return zero current if the vehicle is not hybrid [A].&quot;">
<polygon fill="#eed867" stroke="#eed867" points="546,-425 348,-425 348,-377 546,-377 546,-425"/>
<g id="a_18_19"><a xlink:href="./dcdc_converter/default_dcdc_converter_currents.html" xlink:title="&quot;Return zero current if the vehicle is not hybrid [A].&quot;">
<text text-anchor="start" x="358" y="-407.8" font-family="Times,serif" font-size="14.00">default_dcdc_converter_currents</text>
</a>
</g>
<polygon fill="none" stroke="black" points="356,-381 356,-402 411,-402 411,-381 356,-381"/>
<text text-anchor="start" x="371" y="-387.8" font-family="Times,serif" font-size="14.00">weight</text>
<polygon fill="none" stroke="black" points="411,-381 411,-402 538,-402 538,-381 411,-381"/>
<text text-anchor="start" x="414" y="-387.8" font-family="Times,serif" font-size="14.00">inf(inf=10, num=3)</text>
</a>
</g>
</g>
<!-- 67020&#45;&gt;67025 -->
<g id="edge20" class="edge">
<title>67020&#45;&gt;67025</title>
<path fill="none" stroke="black" d="M342.8,-495C349.91,-495 354.5,-495 354.5,-495 354.5,-495 354.5,-435.21 354.5,-435.21"/>
<polygon fill="black" stroke="black" points="358,-435.21 354.5,-425.21 351,-435.21 358,-435.21"/>
</g>
<!-- 67021 -->
<g id="14" class="node">
<title>67021</title>
<g id="a_14"><a xlink:title="&quot;State of charge of the service battery [%].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1199.5,-330.5C1199.5,-330.5 918.5,-330.5 918.5,-330.5 912.5,-330.5 906.5,-324.5 906.5,-318.5 906.5,-318.5 906.5,-294.5 906.5,-294.5 906.5,-288.5 912.5,-282.5 918.5,-282.5 918.5,-282.5 1199.5,-282.5 1199.5,-282.5 1205.5,-282.5 1211.5,-288.5 1211.5,-294.5 1211.5,-294.5 1211.5,-318.5 1211.5,-318.5 1211.5,-324.5 1205.5,-330.5 1199.5,-330.5"/>
<text text-anchor="start" x="969" y="-313.3" font-family="Times,serif" font-size="14.00">service_battery_state_of_charges</text>
<polygon fill="none" stroke="black" points="915,-286.5 915,-307.5 1008,-307.5 1008,-286.5 915,-286.5"/>
<text text-anchor="start" x="918" y="-293.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_14_20"><a xlink:href="./../batteries.html?id=27" xlink:title="&quot;State of charge of the service battery [%].&quot;">
<polygon fill="none" stroke="black" points="1008,-286.5 1008,-307.5 1204,-307.5 1204,-286.5 1008,-286.5"/>
<text text-anchor="start" x="1011" y="-293.3" font-family="Times,serif" font-size="14.00">(service_battery_state_of_charges)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67021&#45;&gt;67019 -->
<g id="edge21" class="edge">
<title>67021&#45;&gt;67019</title>
<path fill="none" stroke="black" d="M968.75,-282.32C968.75,-282.32 968.75,-246.26 968.75,-246.26"/>
<polygon fill="black" stroke="black" points="972.25,-246.26 968.75,-236.26 965.25,-246.26 972.25,-246.26"/>
</g>
<!-- 67021&#45;&gt;67024 -->
<g id="edge22" class="edge">
<title>67021&#45;&gt;67024</title>
<path fill="none" stroke="black" d="M1104,-282.47C1104,-282.47 1104,-69.02 1104,-69.02"/>
<polygon fill="black" stroke="black" points="1107.5,-69.02 1104,-59.02 1100.5,-69.02 1107.5,-69.02"/>
</g>
<!-- 67022 -->
<g id="15" class="node">
<title>67022</title>
<g id="a_15"><a xlink:title="&quot;Service battery charging statuses (0: Discharge, 1: Charging, 2: BERS, &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;3: Initialization) [&#45;].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1528,-330.5C1528,-330.5 1242,-330.5 1242,-330.5 1236,-330.5 1230,-324.5 1230,-318.5 1230,-318.5 1230,-294.5 1230,-294.5 1230,-288.5 1236,-282.5 1242,-282.5 1242,-282.5 1528,-282.5 1528,-282.5 1534,-282.5 1540,-288.5 1540,-294.5 1540,-294.5 1540,-318.5 1540,-318.5 1540,-324.5 1534,-330.5 1528,-330.5"/>
<text text-anchor="start" x="1292" y="-313.3" font-family="Times,serif" font-size="14.00">service_battery_charging_statuses</text>
<polygon fill="none" stroke="black" points="1238,-286.5 1238,-307.5 1331,-307.5 1331,-286.5 1238,-286.5"/>
<text text-anchor="start" x="1241" y="-293.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_15_21"><a xlink:href="./../batteries.html?id=31" xlink:title="&quot;Service battery charging statuses (0: Discharge, 1: Charging, 2: BERS, &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;3: Initialization) [&#45;].&quot;">
<polygon fill="none" stroke="black" points="1331,-286.5 1331,-307.5 1532,-307.5 1532,-286.5 1331,-286.5"/>
<text text-anchor="start" x="1334" y="-293.3" font-family="Times,serif" font-size="14.00">(service_battery_charging_statuses)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67022&#45;&gt;67019 -->
<g id="edge23" class="edge">
<title>67022&#45;&gt;67019</title>
<path fill="none" stroke="black" d="M1333.33,-282.19C1333.33,-257.86 1333.33,-224 1333.33,-224 1333.33,-224 1041.19,-224 1041.19,-224"/>
<polygon fill="black" stroke="black" points="1041.19,-220.5 1031.19,-224 1041.19,-227.5 1041.19,-220.5"/>
</g>
<!-- 67022&#45;&gt;67024 -->
<g id="edge24" class="edge">
<title>67022&#45;&gt;67024</title>
<path fill="none" stroke="black" d="M1436.67,-282.09C1436.67,-217.49 1436.67,-47 1436.67,-47 1436.67,-47 1187.43,-47 1187.43,-47"/>
<polygon fill="black" stroke="black" points="1187.43,-43.5 1177.43,-47 1187.43,-50.5 1187.43,-43.5"/>
</g>
<!-- 67023 -->
<g id="16" class="node">
<title>67023</title>
<g id="a_16"><a xlink:title="&quot;Service battery initialization time delta [s].&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M1860,-330.5C1860,-330.5 1570,-330.5 1570,-330.5 1564,-330.5 1558,-324.5 1558,-318.5 1558,-318.5 1558,-294.5 1558,-294.5 1558,-288.5 1564,-282.5 1570,-282.5 1570,-282.5 1860,-282.5 1860,-282.5 1866,-282.5 1872,-288.5 1872,-294.5 1872,-294.5 1872,-318.5 1872,-318.5 1872,-324.5 1866,-330.5 1860,-330.5"/>
<text text-anchor="start" x="1620" y="-313.3" font-family="Times,serif" font-size="14.00">service_battery_initialization_time</text>
<polygon fill="none" stroke="black" points="1566,-286.5 1566,-307.5 1659,-307.5 1659,-286.5 1566,-286.5"/>
<text text-anchor="start" x="1569" y="-293.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_16_22"><a xlink:href="./../batteries.html?id=20" xlink:title="&quot;Service battery initialization time delta [s].&quot;">
<polygon fill="none" stroke="black" points="1659,-286.5 1659,-307.5 1864,-307.5 1864,-286.5 1659,-286.5"/>
<text text-anchor="start" x="1662" y="-293.3" font-family="Times,serif" font-size="14.00">(service_battery_initialization_time)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67023&#45;&gt;67019 -->
<g id="edge25" class="edge">
<title>67023&#45;&gt;67019</title>
<path fill="none" stroke="black" d="M1662.67,-282.16C1662.67,-254.16 1662.67,-212 1662.67,-212 1662.67,-212 1041.25,-212 1041.25,-212"/>
<polygon fill="black" stroke="black" points="1041.25,-208.5 1031.25,-212 1041.25,-215.5 1041.25,-208.5"/>
</g>
<!-- 67023&#45;&gt;67024 -->
<g id="edge26" class="edge">
<title>67023&#45;&gt;67024</title>
<path fill="none" stroke="black" d="M1767.33,-282.41C1767.33,-215.96 1767.33,-35 1767.33,-35 1767.33,-35 1187.13,-35 1187.13,-35"/>
<polygon fill="black" stroke="black" points="1187.13,-31.5 1177.13,-35 1187.13,-38.5 1187.13,-31.5"/>
</g>
<!-- 67024&#45;&gt;67013 -->
<g id="edge27" class="edge">
<title>67024&#45;&gt;67013</title>
<path fill="none" stroke="black" d="M978.99,-47C899.3,-47 800.5,-47 800.5,-47 800.5,-47 800.5,-261.77 800.5,-261.77"/>
<polygon fill="black" stroke="black" points="797,-261.77 800.5,-271.77 804,-261.77 797,-261.77"/>
</g>
<!-- 67025&#45;&gt;67013 -->
<g id="edge28" class="edge">
<title>67025&#45;&gt;67013</title>
<path fill="none" stroke="black" d="M541.5,-376.8C541.5,-357.96 541.5,-335 541.5,-335 541.5,-335 543.56,-335 543.56,-335"/>
<polygon fill="black" stroke="black" points="543.56,-338.5 553.56,-335 543.56,-331.5 543.56,-338.5"/>
</g>
<!-- 67026 -->
<g id="19" class="node">
<title>67026</title>
<g id="a_19"><a xlink:title="&quot;Is the vehicle hybrid?&quot;">
<path fill="#73c4fa" stroke="#73c4fa" d="M525,-519.5C525,-519.5 373,-519.5 373,-519.5 367,-519.5 361,-513.5 361,-507.5 361,-507.5 361,-483.5 361,-483.5 361,-477.5 367,-471.5 373,-471.5 373,-471.5 525,-471.5 525,-471.5 531,-471.5 537,-477.5 537,-483.5 537,-483.5 537,-507.5 537,-507.5 537,-513.5 531,-519.5 525,-519.5"/>
<text text-anchor="start" x="423" y="-502.3" font-family="Times,serif" font-size="14.00">is_hybrid</text>
<polygon fill="none" stroke="black" points="369,-475.5 369,-496.5 462,-496.5 462,-475.5 369,-475.5"/>
<text text-anchor="start" x="372" y="-482.3" font-family="Times,serif" font-size="14.00">remote parent 0</text>
<g id="a_19_23"><a xlink:href="./../batteries.html?id=11" xlink:title="&quot;Is the vehicle hybrid?&quot;">
<polygon fill="none" stroke="black" points="462,-475.5 462,-496.5 529,-496.5 529,-475.5 462,-475.5"/>
<text text-anchor="start" x="465" y="-482.3" font-family="Times,serif" font-size="14.00">(is_hybrid)</text>
</a>
</g>
</a>
</g>
</g>
<!-- 67026&#45;&gt;67025 -->
<g id="edge29" class="edge">
<title>67026&#45;&gt;67025</title>
<path fill="none" stroke="black" d="M449,-471.16C449,-471.16 449,-435.25 449,-435.25"/>
<polygon fill="black" stroke="black" points="452.5,-435.25 449,-425.25 445.5,-435.25 452.5,-435.25"/>
</g>
</g>
</svg>
</div>

<script>
    var id, hist = {i: -1, list: []}, isFull;

    function FullScreen() {
        var el = document.getElementById("btnFullScreen");
        if (isFull) {
            closeFullscreen();
            isFull = false;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-compress", "sh-ico-expand"));
        } else {
            openFullscreen();
            isFull = true;
            el.setAttribute('class', el.getAttribute('class').replace("sh-ico-expand", "sh-ico-compress"));
        }
    }

    function getURLParam(name) {
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results == null) {
            return null;
        } else {
            return decodeURI(results[1]) || 0;
        }
    }

    function setURLParam(key, value) {
        let uri = window.location.href,
            re = new RegExp("([?&])" + key + "=.*?(&|$)", "i"),
            separator = uri.indexOf('?') !== -1 ? "&" : "?";
        if (uri.match(re)) {
            return uri.replace(re, '$1' + key + "=" + encodeURI(value) + '$2');
        } else {
            return uri + separator + key + "=" + encodeURI(value);
        }
    }

    function iframeLoad(e) {
        e.preventDefault();
        document.getElementById("iframe").contentWindow.postMessage({
            id: id,
            action: 'id'
        }, '*');
    }

    function onBack(e) {
        e.preventDefault();
        if (hist.i > 0) {
            hist.i--;
            setIframe(hist.list[hist.i])
        }
    }

    function onForward(e) {
        e.preventDefault();
        if (hist.i + 1 < hist.list.length) {
            hist.i++;
            setIframe(hist.list[hist.i])
        }
    }

    function setIframe(src) {
        document.getElementById("iframe").src = src
    }

    function closeFullscreen() {
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { /* Firefox */
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { /* IE/Edge */
            document.msExitFullscreen();
        }
    }

    function isFullscreenSupported() {
        let elem = document.body;
        return elem.requestFullscreen || elem.mozRequestFullScreen || elem.webkitRequestFullscreen || elem.msRequestFullscreen
    }

    function openFullscreen() {
        let elem = document.body;
        if (elem.requestFullscreen) {
            elem.requestFullscreen()
        } else if (elem.mozRequestFullScreen) { /* Firefox */
            elem.mozRequestFullScreen()
        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
            elem.webkitRequestFullscreen()
        } else if (elem.msRequestFullscreen) { /* IE/Edge */
            elem.msRequestFullscreen()
        }
    }

    function _onload() {
        if (getURLParam("controls") === "true") {
            document.getElementById("iframe").onload = iframeLoad;
            document.getElementById("index").style.display = "flex";
            if (isFullscreenSupported())
                document.getElementById("btnFullScreen").style.display = "inline-block";
            id = Date.now();
            setIframe(setURLParam("controls", "false"));
            window.addEventListener('message', function (event) {
                if (event.data.id === id) {
                    if (event.data.action === 'url') {
                        let href = event.data.url;
                        if (hist.list[hist.i] !== href) {
                            hist.i++;
                            hist.list = hist.list.slice(0, hist.i);
                            hist.list.push(href);
                        }
                        if (hist.i > 0) {
                            document.getElementById("btnBack").style.opacity = "1"
                        } else {
                            document.getElementById("btnBack").style.opacity = "0.5"
                        }
                        if (hist.i + 1 < hist.list.length) {
                            document.getElementById("btnForward").style.opacity = "1"
                        } else {
                            document.getElementById("btnForward").style.opacity = "0.5"
                        }
                    }
                }
            });
        } else {
            refreshIntervalId = setInterval(sendUrl, 100);
            setTimeout(function () {
                clearInterval(refreshIntervalId)
            }, 30000);
            document.getElementById("content").style.display = "block";
            var el = document.getElementById(getURLParam("id") || 'graph0');
            if (el)
                if (el.getAttribute('class').indexOf('node') !== -1) {
                    var bound = el.getBoundingClientRect();
                    window.scrollTo((bound.left + bound.right) / 2 - document.body.offsetWidth / 2, (bound.top + bound.bottom) / 2 - document.body.offsetHeight / 2);
                    el.setAttribute('class', el.getAttribute('class') + " on");
                } else if (el.getAttribute('class').indexOf('graph') !== -1) {
                    el.parentNode.setAttribute('class', el.parentNode.getAttribute('class') + " on");
                }
        }
        let parser = new DOMParser();
        for (let e of document.getElementsByTagName('viz')) {
            let out, digraph = e.getAttribute('digraph'), options = {
                engine: e.getAttribute('engine') || 'dot',
                format: "svg"
            };
            try {
                out = parser.parseFromString(Viz(digraph, options), "image/svg+xml").documentElement;
            } catch (e) {
                out = document.createElement('div')
                out.setAttribute('class', 'viz error')
                out.innerHTML = e.message === undefined ? "An error occurred while processing the graph input." : e.message;
            }
            e.appendChild(out);
        }
    }

    function getParentOrigin() {
        try {
            return parent.window.origin || "null";
        } catch (exception) {
            return "null"
        }
    }

    function sendUrl() {
        if (parent_iframe_id !== null && window.location.href !== url) {
            url = window.location.href;
            parent.postMessage({
                id: parent_iframe_id,
                url: url,
                action: 'url'
            }, '*');
            clearInterval(refreshIntervalId);
        }
    }

    var parent_iframe_id = null, url = null, refreshIntervalId;
    window.addEventListener('message', function (event) {
        var origin = event.origin === 'file:' ? 'null' : (event.origin || 'null');
        if (origin === getParentOrigin())
            if (parent_iframe_id === null && event.data.action === 'id') {
                parent_iframe_id = event.data.id
            }
    });
</script>
</body>
</html>